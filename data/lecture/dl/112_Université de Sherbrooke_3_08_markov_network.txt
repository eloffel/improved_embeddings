neural networks
conditional random    elds - markov network

2

     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 

 f (y, x)

k 1xk=1
linear chain crf

 f (y, x)

p(y|x) =

1
topics: factor, suf   cient statistic
    with hidden units, the crf factors could be:

kxk=2
    w(l+1, 1) w(l+1,+1) w(l+1,0) b(l+1)
z(x)yf
    a(l+1,)
   

   a(l+1)(xk 1)a(l+1)(xk)a(l+1)(xk+1)
   {(x(t),y(t))}
   (x,y)

     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk) = exp   b(l+1)

 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
p(y|x) =
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
     f (y, x) =  f (yk, xk) = exp a(l+1,0)(xk)c 1yk=c 
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 
 f (yk, yk+1) = exp vyk,yk+1 
     f (y, x) =  f (yk, xk 1) = exp a(l+1, 1)(xk 1)c 1yk=c 
     f (y, x) =  f (yk, xk+1) = exp a(l+1,+1)(xk+1)c 1yk=c 

    there is no simple form for the suf   cient statistics

k=1 1yk=c   
pk

c

1

z(x)yf

2

     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 

 f (y, x)

unary factors

k 1xk=1
linear chain crf

 f (y, x)

p(y|x) =

1
topics: factor, suf   cient statistic
    with hidden units, the crf factors could be:

kxk=2
    w(l+1, 1) w(l+1,+1) w(l+1,0) b(l+1)
z(x)yf
    a(l+1,)
   

   a(l+1)(xk 1)a(l+1)(xk)a(l+1)(xk+1)
   {(x(t),y(t))}
   (x,y)

     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk) = exp   b(l+1)

 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
p(y|x) =
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
     f (y, x) =  f (yk, xk) = exp a(l+1,0)(xk)c 1yk=c 
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 
 f (yk, yk+1) = exp vyk,yk+1 
     f (y, x) =  f (yk, xk 1) = exp a(l+1, 1)(xk 1)c 1yk=c 
     f (y, x) =  f (yk, xk+1) = exp a(l+1,+1)(xk+1)c 1yk=c 

    there is no simple form for the suf   cient statistics

k=1 1yk=c   
pk

c

1

z(x)yf

2

     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 

 f (y, x)

unary factors

k 1xk=1
linear chain crf

 f (y, x)

p(y|x) =

1
topics: factor, suf   cient statistic
    with hidden units, the crf factors could be:

kxk=2
    w(l+1, 1) w(l+1,+1) w(l+1,0) b(l+1)
z(x)yf
    a(l+1,)
   

   a(l+1)(xk 1)a(l+1)(xk)a(l+1)(xk+1)
   {(x(t),y(t))}
   (x,y)

     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk) = exp   b(l+1)

 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
p(y|x) =
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
     f (y, x) =  f (yk, xk) = exp a(l+1,0)(xk)c 1yk=c 
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 
 f (yk, yk+1) = exp vyk,yk+1 
     f (y, x) =  f (yk, xk 1) = exp a(l+1, 1)(xk 1)c 1yk=c 
     f (y, x) =  f (yk, xk+1) = exp a(l+1,+1)(xk+1)c 1yk=c 

    there is no simple form for the suf   cient statistics

k=1 1yk=c   
pk

pairwise factors

c

1

z(x)yf

topics: markov network
    illustration for k=5 

c

c

c

c

c

3

c,i

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
pk
pk
pk
pk
pk
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
markov network visualization
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
= observed
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

    network with an edge between each node (random variable) 
that shares a factor

2

2

2

2

2

topics: markov network
    illustration for k=5 

c

c

c

c

c

3

c,i
1

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
pk
pk
pk
pk
pk
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
markov network visualization
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
z(x)yf
pk
pk
pk
pk
pk
p(y|x) =
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
= observed
     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
 f (yk, yk+1) = exp vyk,yk+1 
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5

 f (y, x)

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

    network with an edge between each node (random variable) 
that shares a factor

     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk) = exp   b(l+1)

k=1 1yk=c   
pk

2

2

2

2

2

topics: markov network
    illustration for k=5 

c

c

c

c

c

3

c,i

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
pk
pk
pk
pk
pk
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
markov network visualization
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
= observed
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

    network with an edge between each node (random variable) 
that shares a factor

2

2

2

2

2

topics: markov network
    illustration for k=5 

c

c

c

c

c

3

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

1
c,i
c,i

     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
pk
pk
pk
pk
pk
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
markov network visualization
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
z(x)yf
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
p(y|x) =
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
= observed
     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
 f (yk, yk+1) = exp vyk,yk+1 
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5

 f (y, x)

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

    network with an edge between each node (random variable) 
that shares a factor

     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk) = exp   b(l+1)

k=1 1yk=c   
pk

2

2

2

2

2

topics: markov network
    illustration for k=5 

c

c

c

c

c

3

c,i

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
pk
pk
pk
pk
pk
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
markov network visualization
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
= observed
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

    network with an edge between each node (random variable) 
that shares a factor

2

2

2

2

2

topics: markov network
    illustration for k=5 

c

c

c

c

c

3

1
c,i

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
pk
pk
pk
pk
pk
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
markov network visualization
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
z(x)yf
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
p(y|x) =
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
= observed
     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
 f (yk, yk+1) = exp vyk,yk+1 
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5

 f (y, x)

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

    network with an edge between each node (random variable) 
that shares a factor

     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk) = exp   b(l+1)

k=1 1yk=c   
pk

2

2

c

2

2

2

topics: markov network
    illustration for k=5 

c

c

c

c

c

3

c,i

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
pk
pk
pk
pk
pk
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
markov network visualization
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
= observed
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

    network with an edge between each node (random variable) 
that shares a factor

2

2

2

2

2

topics: markov network
    illustration for k=5 

c

c

c

c

c

3

1
c,i

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
pk
pk
pk
pk
pk
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
markov network visualization
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
z(x)yf
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
p(y|x) =
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
= observed
     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
 f (yk, yk+1) = exp vyk,yk+1 
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5

 f (y, x)

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

    network with an edge between each node (random variable) 
that shares a factor

     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk) = exp   b(l+1)

k=1 1yk=c   
pk

2

2

c

2

2

2

topics: markov network
    illustration for k=5 

c

c

c

c

c

3

c,i

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
pk
pk
pk
pk
pk
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
markov network visualization
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
= observed
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

    network with an edge between each node (random variable) 
that shares a factor

2

2

2

2

2

c

c

c

c

c

4

c,i

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

topics: markov network
    illustration for k=5 

     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
pk
pk
pk
pk
pk
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
markov network visualization
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
= observed
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    local markov property

     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

    each node is independent of other nodes given its neighbors

2

2

2

2

2

c

c

c

c

c

5

c,i

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

topics: markov network
    illustration for k=5 

     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
pk
pk
pk
pk
pk
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
markov network visualization
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
= observed
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5

     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    general conditional independence

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

    two nodes are conditionally independent if all paths between them contain at 
2

least one of the conditioning node

2

2

2

2

c

c

c

c

c

6

c,i

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

    kt
a(l+1,+1)(xk+1)yk! /z(x)
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
k 1xk=1
kxk=2
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
a(l+1, 1)(xk 1)yk +
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
    x(t)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
directed vs. undirected
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
    w(l+1, 1) w(l+1,+1) w(l+1,0) b(l+1)
pk 1
pk 1
pk 1
pk 1
pk 1
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
    w(l+1, 1) w(l+1,+1) w(l+1,0) b(l+1)
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
topics: undirected graphical model, directed graphical model
pk
pk
pk
pk
pk
     crf is an undirected graphical model
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
z(x)yf
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
1
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
p(y|x) =
 f (y, x)
    x1 x2 x3 x4 x5
z(x)yf
    x1 x2 x3 x4 x5
c,i
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
1
    (x,y)
p(y|x) =
 f (y, x)
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 
     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
   {(x(t),y(t))}
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
 f (yk, yk+1) = exp vyk,yk+1 
 f (yk, yk+1) = exp vyk,yk+1 

     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 

only need to be non-negative
2

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

c,i

2

2

2

2

c

c

c

c

c

7

c,i

c,i

c,i

c,i

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

    w(l+1, 1) w(l+1,+1) w(l+1,0) b(l+1)
    w(l+1, 1) w(l+1,+1) w(l+1,0) b(l+1)

a(l+1,+1)(xk+1)yk! /z(x)
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
k 1xk=1
kxk=2
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
a(l+1, 1)(xk 1)yk +
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
directed vs. undirected
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
topics: undirected graphical model, directed graphical model
pk
pk
pk
pk
pk
     id48 is a directed graphical model
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
z(x)yf
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
1
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk 1
p(y|x) =
 f (y, x)
    x1 x2 x3 x4 x5
z(x)yf
    x1 x2 x3 x4 x5
c,i
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
1
p(y|x) =
 f (y, x)
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 
     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
 f (yk, yk+1) = exp vyk,yk+1 
 f (yk, yk+1) = exp vyk,yk+1 

     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 

c,i

c,i

c,i

c,i

c,i

c,i

c,i

2

2

2

2

2

c

c

c

c

7

c,i

c,i

c,i
c,i

c,i
c

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i

c,i
c,i
c,i

    w(l+1, 1) w(l+1,+1) w(l+1,0) b(l+1)
    w(l+1, 1) w(l+1,+1) w(l+1,0) b(l+1)

a(l+1,+1)(xk+1)yk! /z(x)
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
     f (y, x) = exp (ps    f,s t(y, x))
pk
k 1xk=1
kxk=2
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
pk
pk
pk
pk
pk
a(l+1, 1)(xk 1)yk +
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
     f (y, x) =  f (yk) = exp   b(l+1)
k=1 1yk=c   
pk
pk
pk
pk
pk
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
directed vs. undirected
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
pk
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
pk 1
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk 1
pk 1
pk 1
pk 1
pk
k=2 xk 1,i 1yk=c   
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
     f (y, x) =  f (yk, xk 1,i) = exp   w (l+1, 1)
k=2 xk 1,i 1yk=c   
pk
pk
pk
pk
pk
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
pk
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk,i 1yk=c   
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
     f (y, x) =  f (yk, xk,i) = exp   w (l+1,0)
k=1 xk,i 1yk=c   
topics: undirected graphical model, directed graphical model
pk 1
pk
pk
pk
pk
pk
     id48 is a directed graphical model
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
z(x)yf
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
k=1 xk+1,i 1yk=c   
1
k=1 xk+1,i 1yk=c   
     f (y, x) =  f (yk, xk+1,i) = exp   w (l+1,+1)
pk 1
pk 1
pk 1
pk 1
pk 1
pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
p(y|x) =
 f (y, x)
    x1 x2 x3 x4 x5
z(x)yf
    x1 x2 x3 x4 x5
c,i
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
1
p(y|x) =
 f (y, x)
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
k=1 1yk=c 1yk+1=c0   
     f (y, x) =  f (yk, yk+1) = exp   vc,c0 pk 1
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (y, x) =  f (yk, xk 1, xk, xk+1) = exp a(l+1, 1)(xk 1)yk + a(l+1,0)(xk)yk + a(l+1,+1)(xk+1)yk 
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
     f (yk, yk+2)  f (yk, yk+1, yk+2)
 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
    x1 x2 x3 x4 x5
     f (yk, yk+2)  f (yk, yk+1, yk+2)
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
    x1 x2 x3 x4 x5
 f (yk, xk 1) = exp   a(l+1, 1)(xk 1)yk   
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
    y1 y2 y3 y4 y5
    x1 x2 x3 x4 x5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
    y1 y2 y3 y4 y5
 f (yk, xk) = exp   a(l+1,0)(xk)yk   
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
    = p(yk|yk 1) = p(xk|yk)
    y1 y2 y3 y4 y5
 f (yk, xk+1) = exp   a(l+1,+1)(xk+1)yk   
 f (yk, yk+1) = exp vyk,yk+1 
    = p(yk+1|yk) = p(xk|yk)
 f (yk, yk+1) = exp vyk,yk+1 
    p(y|x) = exp   pk

     f (y, x) =  f (yk, yk+1) = exp vc,c0 1yk=c 1yk+1=c0 

k=1 a(l+1,0)(xk)yk +pk 1

k=1 vyk,yk+1 +pk

c,i
c,i

c,i
c,i

c,i

c,i

c,i

c,i

c,i

2

2

2

2

2

