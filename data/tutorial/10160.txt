1
1
0
2

 
t
c
o
0
2

 

 
 
]
i
s
.
s
c
[
 
 

1
v
4
7
4
4

.

0
1
1
1
:
v
i
x
r
a

robustness of social networks:

comparative results based on distance distributions

paolo boldi

marco rosa

sebastiano vigna

dipartimento di scienze dell   informazione

universit`a degli studi di milano, italia

abstract

given a social network, which of its nodes have a stronger impact in determining
its structure? more formally: which node-removal order has the greatest impact on the
network structure? we approach this well-known problem for the    rst time in a setting
that combines both web graphs and social networks, using datasets that are orders
of magnitude larger than those appearing in the previous literature, thanks to some
recently developed algorithms and software tools that make it possible to approximate
accurately the number of reachable pairs and the distribution of distances in a graph.
our experiments highlight deep di   erences in the structure of social networks and web
graphs, show signi   cant limitations of previous experimental results, and at the same
time reveal id91 by label propagation as a new and very e   ective way of locating
nodes that are important from a structural viewpoint.

1 introduction

in the last years, there has been an ever-increasing research activity in the study of real-world
complex networks [wf94] (the world-wide web, the internet autonomous-systems graph,
coauthorship graphs, phone call graphs, email graphs and biological networks, to cite a few).
these networks, typically generated directly or indirectly by human activity and interaction,
appear in a large variety of contexts and often exhibit a surprisingly similar structure. one
of the most important notions that researchers have been trying to capture is    node central-
ity   : ideally, every node (often representing an individual) has some degree of in   uence or
importance within the social domain under consideration, and one expects such importance
to be re   ected in the structure of the social network; centrality is a quantitative measure
that aims at revealing the importance of a node.

among the types of centrality that have been considered in the literature (see [bor05]
for a good survey), many have to do with shortest paths between nodes; for example, the
betweenness centrality of a node v is the sum, over all pairs of nodes x and y, of the fraction
of shortest paths from x to y passing through v. the role played by shortest paths is
justi   ed by one of the most well known features of complex networks, the so-called small-
world phenomenon.

a small-world network [ch10] is a graph where the average distance between nodes is
logarithmic in the size of the network, whereas the id91 coe   cient is large (that is,
neighbourhoods tend to be denser) than in a random erd  os-r  enyi graph with the same size
and average distance.1 here, and in the following, by    distance    we mean the length of

1the reader might    nd this de   nition a bit vague, and some variants are often spotted in the literature:

this is a general problem, also highlighted recently in [ladw05].

1

the shortest path between two nodes. the fact that social networks (either electronically
mediated or not) exhibit the small-world property is known at least since milgram   s famous
experiment [mil67] and is arguably the most popular of all features of complex networks.

based on the above observation that the small-world property is by far the most crucial of
all the features that social networks exhibit, it is quite natural to consider centrality measures
that are based on node distance, like betweenness. on the other hand, albeit interesting and
profound, such measures are often computationally too expensive to be actually computed
on real-world graphs; for example, the best known algorithm to compute betweenness cen-
trality [bra01] takes time o(nm) and requires space for o(n + m) integers (where n is the
number of nodes and m is the number of arcs): both bounds are infeasible for large networks,
where typically n     109 and m     1011. for this reason, in most cases other strictly local
measures of centrality are usually preferred (e.g., degree centrality).

one of the ideas that have emerged in the literature is that node centrality can be eval-
uated based on how much the removal of the node    disrupts    the graph structure [ajb00].
this idea provides also a notion of robustness of the network: if removing few nodes has no
noticeable impact, then the network structure is clearly robust in a very strong sense. on
the other hand, a node-removal strategy that quickly a   ects the distribution of distances
probably re   ects an importance order of the nodes.

previous literature has used mainly the diameter or some analogous measure to estab-
lish whether the network structure changed. recently, though, there have been some suc-
cessful attempts to produce reliable estimates of the neighbourhood function of very large
graphs [pgf02, brv11a]; an immediate application of these approximate algorithms is the
computation of the number of reachable pairs of the graph (the number of pairs (cid:104)x, y(cid:105) such
there is a directed path from x to y) and its distance distribution (the distance distribution
of a graph is a discrete distribution that gives, for every t, the fraction of pairs of nodes that
are at distance t). from this data, a number of existing measures can be computed quickly
and accurately, and new one can be conceived.

we thus consider a certain ordering of the nodes of a graph (that is supposed to represent
their    importance    or    centrality   ). we remove nodes (and of course their incident arcs)
following this order, until a certain percentage    of the arcs have been deleted2;    nally, we
compare the number of reachable pairs and distance distribution of the new graph with the
original one. the chosen ordering is considered to be a reliable measure of centrality if the
measured di   erence increases rapidly with    (i.e., it is su   cient to delete a small fraction of
important nodes to change the structure of the graph).

in this work, we applied the described approach to a number of complex networks, con-

sidering di   erent orderings, and obtained the following results:

    in all complex networks we considered, the removal of a limited fraction of randomly
chosen nodes does not change the distance distribution signi   cantly, con   rming previous
results.

    we test strategies based on id95 and on id91 (see section 4.1 for more
information about this), and show that they (in particular, the latter) disrupt quickly
the structure of a web graph.

    maybe surprisingly, none of the above strategies seem to have an impact when applied
to social networks other than web graphs. this is yet another example of a profound

2observe that we delete nodes but count the percentage of arcs removed, and not of nodes: this choice
is justi   ed by the fact that otherwise node orderings that put large-degree nodes    rst would certainly be
considered (unfairly) more disruptive.

2

structural di   erence between web graphs and social networks,3 on the same line as
those discussed in [brv11a] and [ckl+09]. this observation, in particular, suggests
that social networks tend to be much more robust and cohesive than web graphs, at
least as far as distances are concerned, and that    scale-free    models, which are currently
proposed for both type of networks, do not to capture this important di   erence.

2 related work

the idea of grasping information about the structure of a network by repeatedly removing
nodes out of it is not new: albert, jeong and barab  asi [ajb00] study experimentally the
variation of the diameter on two di   erent models of undirected random graphs when nodes
are removed either randomly or in    connectedness order    and report di   erent behaviours.
they also perform tests on some small real data set, and we will compare their results with
ours in section 6.

more recently, node-centrality measures that look at how some graph invariant changes
when some vertices or edges are deleted (sometimes called    vitality    [be05] or    induced   
measures) have been studied for example in [bor06] (identifying nodes that maximally dis-
connect the network) or in [bck06] (related to the uncertainty of data).

donato, leonard, millozzi and tsaparas [dlmt08] study how the size of the giant com-
ponent changes when nodes of high indegree or outdegree are removed from the graph. while
this is an interesting measure, it does not provide information about what happens outside
the component. they develop a library for semi-external visits that make it possible to
compute in an exact way the strongly connected components on large graphs.

finally, fogaras [fog03] considers how the harmonic diameter 4 (the harmonic mean of
the distances) changes as nodes are deleted from a small (less than one million node) snapshot
of the .ie domain, reporting a large increase (100%) when as little as 1000 nodes with high
id95 are removed. the harmonic diameter is estimated by a small number of visits,
however, which gives no statistical guarantee on the accuracy of the results.

our study is very di   erent. first of all, we use graphs that are two orders of magnitude
larger than those considered in [ajb00] or [fog03]; moreover, we study the impact of node
removal on the whole spectrum of distances. second, we apply removal procedures to large
social networks (previous literature used only web or internet graphs), and the striking
di   erence in behaviour shows that    scale-free    models fail to capture essential di   erences
between these kind of networks and web graphs. third, we document in a reproducible way
all our experiments, which have provable statistical accuracy.

3 computing the distance distribution
given a directed graph g, its neighbourhood function ng(t) returns for each t     n the
number of pairs of nodes (cid:104)x, y(cid:105) such that y is reachable from x in no more than t steps.
from the neighbourhood function, several interesting features of a graph can be estimated,
and in this paper we are especially interested in the distance distribution of the graph g
, represented by the cumulative distribution function hg(t), which returns the fraction of
reachable pairs at distance at most t, that is, hg(t) = ng(t)/maxt ng(t). the corresponding
id203 density function will be denoted by hg(   ).

3we remark that several proposals have been made to    nd features that highlight such structural di   erences
in a computationwise-feasible way (e.g., assortative mixing [np03]), but all instances we are aware of have
been questioned by the subsequent literature, so no clear-cut results are known as yet.

4actually, the notion had been introduced before by marchiori and latora and named connectivity

length [ml00], but we    nd the name    harmonic diameter    much more insightful.

3

recently, hyperanf [brv11a] emerged as an evolution of the anf tool [pgf02]. hy-
peranf can compute for the    rst time in a few hours the neighbourhood function of graphs
with billions of nodes with a small error and good con   dence using a standard workstation.
the free availability of hyperanf opens new and interesting ways to study large graphs, of
which this paper is an example.

4 removal strategies and their analysis

in the previous section, we discussed how we can e   ectively approximate the distance distri-
bution of a given graph g; we shall use such a distribution as the graph structural property
of interest.
consider now a given total order     on the nodes of g; we think of     as a removal strategy
in the following sense: when we want to remove   m arcs, we start removing the    -largest
node (and its incident arcs), go on removing the second-   -largest node etc. and stop as
soon as       m arcs have been removed. the resulting graph will be denoted by g(   ,   ).
of course, g(   , 0) = g whereas g(   , 1) is the empty graph. we are interested in applying
some measure of divergence 5 between the distribution hg and the distribution hg(   ,  ). by
looking at the divergence when    varies, we can judge the ability of     to identify nodes that
will disrupt the network.

4.1 some removal strategies

we considered several di   erent strategies for removing nodes from a graph. some of them
embody actually signi   cant knowledge about the structure of the graph, whereas others are
very simple (or even independent of the graph) and will be used as baseline. some of them
have been used in the previous literature, and will be useful to compare our results.

as a    rst observation, some strategies requires a symmetric graph (a.k.a., undirected). in

this case, we symmetrise the graph by adding the missing arcs6.

the second obvious observation is that some strategies might depend on available meta-

data (e.g., urls for web graphs) and might not make sense for all graphs.

random. no strategy: we pick random nodes and remove them from the graph.

it is
important to test against this    nonstrategy    as we can show that the phenomena we
observe are due to the peculiar choice of nodes involved, and not to some generic
property of the graph.

largest-degree    rst. we remove nodes in decreasing (out)degree order. this strategy is

an obvious baseline, as degree centrality is the    rst shot at centrality in a network.

near-root. in web graphs, we can assume that nodes that are roots of web sites and their
(quasi-)immediate successors (e.g., pages linked by the root) are most important in
establishing the distance distribution, as people tend to link higher levels of web sites.
this strategy removes essentially    rst root nodes, then the nodes that are children of
a root on, and so on.

id95. id95 [pbmw98] is an well-known algorithm that assigns ranks to nodes
using a markov chain based on the structure of the graph. it has been designed as an

5we purposedly use the word    divergence    between distributions, instead of    distance   , to avoid confusion

with the notion of distance in a graph.

6it is mostly a matter of taste whether to use directed symmetric graphs or simple undirected graphs.
in our case, since we have to cope with both directed and undirected graph, we prefer to speak of directed
graphs that are symmetric, that is, for every arc x     y there is a symmetric arc y     x.

4

improvement over degree centrality, because nodes with high degree which however are
connected to nodes of low rank will have a rather low rank, too (the de   nition is indeed
recursive). there is a vast body of literature on the subject: see [bsv09, lm04] and
the references therein.

label propagation. label propagation [rak07] is a powerful technique for id91 sym-
metric graphs. each node has a label (initially, the node number itself) and through
a number of rounds each node changes its label by taking the label of the majority of
its neighbours. at the end, node labels are used as cluster identi   ers. our removal
strategy picks    rst, for each cluster in decreasing size order, the node with the highest
number of neighbours in other clusters:
intuitively, it is a representative of a set of
tightly connected nodes (the cluster) which however has a very signi   cant connection
with the outside world (the other clusters) and thus we expect that its removal should
seriously disrupt the distance distribution. once we have removed all such nodes, we
proceed again, cluster by cluster, using the same criterion (thus picking the second
node of each cluster that has more connection towards other clusters), and so on.

4.2 measures of divergence

once we changed the structure of a graph by deleting some of its nodes (and arcs), there are
several ways to measure whether the structure of the graph has signi   cantly changed. the
   rst, basic raw datum we consider is the number of pairs of nodes that are still reachable
divided by the number of pairs initially reachable, expressed as a percentage. then, to
estimate the change of the distance distribution we considered the following possibilities (here
p denotes the original distance distribution, and q the distribution after node removal):

relative average-distance change. this is somehow the simplest and most natural mea-

sure: how much has the average distance changed? we use the measure

  (p, q) =

    1

  q
  p

where    denotes the average; in other words, we measure how much the average value
changed. this measure is non-symmetric, but it is of course easy to obtain   (p, q)
from   (q, p ).

relative harmonic-diameter change. this measure is analogous to the relative average-
distance change, but the average on distances is harmonic and computed on all pairs,
that is:

(cid:80)

n(n     1)
x(cid:54)=y

1

d(x,y)

= n(n     1)(cid:14)(cid:88)

1
t

t>0

(ng(t)     ng(t     1)),

where n is the number of nodes of the graph. this measure, used in [fog03], combines
reachability information, as unreachable pairs contribute zero to the sum. it is easily
computable from the neighbourhood function, as shown above.

id181. this is a measure of information gain, in the sense that it
gives the number of additional bits that are necessary to code samples drawn from p
when using an optimal code for q. also this measure is non-symmetric, but there is
no way obtain the divergence from p to q given that from q to p .

(cid:96) norms. a further alternative is given by viewing distance distributions as functions n    
[0 . . 1] and measure their distance using some (cid:96)-norm, most notably (cid:96)1 or (cid:96)2. such
distances are of course symmetric.

5

figure 1: testing various divergence measures on a web graph (a snapshot of the .it domain
of 2004) and the near-root removal strategy. you can see how the distance distribution
changes for di   erent values of    and the behaviour of divergence measures. we omitted to
show the harmonic-diameter change to make the plot easier to read.

we tested, with various graphs and removal strategies, how the choice of distribution
divergence in   uences the interpretation of the results obtained. in figure 1 we show this
for a single web graph and a single strategy, but the outcomes agree on all the graphs and
strategies tested: the interpretation is that all divergences agree, and for this reason we shall
use the (simple) measure    applied to the average distance in the experimental section. the
advantage of    over the other measures is that it is very easy to interpret; for example, if   
has value, say, 0.3 it means that node removal has increased the average distance by 30%.
we also discuss    applied to the harmonic diameter.

5 experiments

for our experiments, we considered a number of networks with various sizes and character-
istics; most of them are either web graphs or (directed or undirected) social graphs of some
kind (note that for web graphs we can rely on the urls as external source of information).
more precisely, we used the following datasets:

    hollywood : one of the most popular undirected social graphs, the graph of movie actors:
vertices are actors, and two actors are joined by an edge whenever they appeared in a
movie together.

    livejournal : livejournal is a virtual community social site started in 1999: nodes are
users and there is an arc from x to y if x registered y among his friends (it is not
necessary to ask y permission, so the graph is directed ). we considered the same 2008
snapshot of livejournal used in [ckl+09] for their experiments

    amazon: this dataset describes similarity among books as reported by the amazon
store; more precisely the data was obtained in 2008 using the amazon e-commerce
service apis using similaritylookup queries.

    enron: this dataset was made public by the federal energy regulatory commission
during its investigations:
it is a partially anonymised corpus of e-mail messages ex-
changed by some enron employees (mostly part of the senior management). we turned

6

 0 0.02 0.04 0.06 0.08 0.1 0.12 1 10 100id203length0.000.010.050.100.150.200.30 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 0 0.05 0.1 0.15 0.2 0.25 0.3qkullback-leiblerd-average distancel1l2this dataset into a directed graph, whose nodes represent people and with an arc from
x to y whenever y was the recipient of (at least) a message sent by x.

    for comparison, we considered two web graphs of di   erent size: a 2004 snapshot of the
.it domain (    40 million nodes), and a snapshot taken in may 2007 of the .uk domain
(    100 million nodes).

we remark that all our graphs are available at the law web site.7 hyperanf is available
as free software at the webgraph web site8, and the class removehubs that has been used
to perform the experiments we describe is part of the law software.

we applied our removal strategies with di   erent impact levels (e.g., percentage of removed
arcs), namely 0.01, 0.05, 0.1, 0.15, 0.2 and 0.3. for each level we ran hyperanf at least
seven times using 128 registers per counter: the percentage of reachable pair displayed in
our tables has been obtained by averaging the neighbourhood functions obtained from the
runs, with relative standard deviation smaller than 3.5% (e.g., the measure is within relative
error 10.5% with 95% con   dence). the starting number of reachable pairs is known with
relative standard deviation smaller than 0.1%. the remaining derived measurements (average
distances and harmonic diameters) have been computed separately on each run, and the
resulting relative standard deviation is less than 4% for the average distance, and less than
20% for the harmonic diameter, except for about a dozen measurements, where it is less
than 8.5% for the average distance, and less than 30% for the harmonic diameter.9 our
tables and graphs slightly di   ers from those previously published [brv11b] because we had
time to generate more runs, and thus increase the precision of our results: some variation is
also observed because of the relatively small number of runs (unavoidable, due to the large
number of graphs to be analyzed).

6 discussion

table 1 and figure 2 show that social networks su   er spectacularly less disconnection than
web graphs when their nodes are removed using our strategies. our most e   cient removal
strategy, label propagation, can disconnect almost all pairs of a web graph by removing 30%
of the arcs, whereas it disconnects only about half (or less) of the pairs on social networks.
this entirely di   erent behaviour shows that web graphs have a path structure that passes
through fundamental hubs.
moreover, the average distance of the web graphs we consider increases by 50   80% upon
removal of 30% of the arcs, whereas in most social networks there is just an increase of a few
percents (in any case, always less than 20%).10

note that random removal can separate a good number of reachable pairs, but the increase
in average distance is very marginal. this shows that considering both measures is important
in evaluating removal strategies.

of course, we cannot state that there is no strategy able to disrupt social networks as
much as a web graph (simply because this strategy may be di   erent from the ones that

7http://law.dsi.unimi.it/. in particular, the graphs we used are the datasets named hollywood-2009,

ljournal-2008, amazon-2008, enron, it-2004 and uk-2007-05.

8http://webgraph.dsi.unimi.it/
9unfortunately, estimating with precision the harmonic diameter is di   cult due to the nonlinearity of its

de   nition.

10we remark that in some cases the measure is negative or does not decrease monotonically. this is
an artifact of the probabilistic technique used to estimate the number of pairs   small relative errors are
unavoidable.

7

g
n

i
s
u

d
e
v
o
m
e
r

s
i

s
c
r
a

f
o

n
o
i
t
c
a
r
f

  

a

n
e
h
w

)
r
e
w
o
l

,
t
i
.
(

s
h
p
a
r
g

b
e
w

d
n
a

)
r
e
p
p
u

,

n
o
z
a
m
a
(

s
k
r
o
w
t
e
n

l
a
i
c
o
s

f
o

r
u
o
i
v
a
h
e
b

l
a
c
i
p
y
t

:
2

e
r
u
g
i
f

n
o
i
t
a
g
a
p
o
r
p
-
l
e
b
a
l

e
h
t

f
o
t
c
e
   
e

e
h
t

t
u
b

,
s
k
r
o
w
t
e
n

l
a
i
c
o
s

f
o
e
r
u
t
c
u
r
t
s

e
h
t

s
t
p
u
r
s
i

d
y
l
e
t
e
l
p
m
o
c

s
e
i
g
e
t
a
r
t
s
d
e
s
o
p
o
r
p
e
h
t

f
o
e
n
o
n

.
s
e
i
g
e
t
a
r
t
s

s
u
o
i
r
a
v

.
e
l
b

i
s
i
v

y
r
e
v

s
i

s
h
p
a
r
g

b
e
w
n
o

y
g
e
t
a
r
t
s

l
a
v
o
m
e
r

n
o
z
a
m
a

t
i
.

8

 0 0.2 0.4 0.6 0.8 1 0 0.05 0.1 0.15 0.2 0.25 0.3d-average distanceqrandomdegreeprlp 0 5 10 15 20 25 30 35 40 0 0.05 0.1 0.15 0.2 0.25 0.3d-harmonic diameterqrandomdegreeprlp 0 20 40 60 80 100 0 0.05 0.1 0.15 0.2 0.25 0.3reachable nodes %qrandomdegreeprlp 0 0.2 0.4 0.6 0.8 1 0 0.05 0.1 0.15 0.2 0.25 0.3d-average distanceqrandomdegreeprlpnear-root 0 5 10 15 20 25 30 35 40 0 0.05 0.1 0.15 0.2 0.25 0.3d-harmonic diameterqrandomdegreeprlpnear-root 0 20 40 60 80 100 0 0.05 0.1 0.15 0.2 0.25 0.3reachable nodes %qrandomdegreeprlpnear-root3
.
0

2
.
0

5
1
.
0

1
.
0

5
0
.
0

1
0
.
0

)

%
6
6
(

)

%
3
7
(

)

%
9
8
(

)

%
4
6
(

)

%
7
5
(

)

%
3
4
(

)

%
5
2
(

)

%
0
4
(

)

%
2
7
(

)

%
2
9
(

)

%
4
9
(

)

%
3
4
(

)

%
6
6
(

)

%
0
9
(

)

%
0
9
(

)

%
6
5
(

)

%
5
4
(

)

%
5
7
(

)

%
4
3
(

)

%
5
(

)

%
8
2
(

)

%
9
4
(

)

%
8
9
(

)

%
8
3
(

)

%
6
(

)

%
4
3
(

1
8
0
.
0

0
7
0
.
0

2
9
0
.
0

9
4
1
.
0

9
0
0
.
0

9
1
1
.
0

4
8
1
.
0

7
5
0
.
0
   

4
1
0
.
0

1
2
0
.
0

6
4
0
.
0

8
5
0
.
0
   

7
2
0
.
0

4
7
0
.
0

1
1
1
.
0

1
4
0
.
0
   

0
4
0
.
0

7
2
1
.
0

7
4
4
.
0

3
9
7
.
0

5
6
3
.
0

2
6
0
.
0

5
2
0
.
0

5
6
2
.
0

8
5
4
.
0

8
7
2
.
0

)

%
7
7
(

)

%
6
8
(

)

%
1
9
(

)

%
9
7
(

)

%
5
6
(

)

%
3
5
(

)

%
4
3
(

)

%
2
5
(

)

%
3
7
(

6
5
0
.
0

3
2
0
.
0

4
4
0
.
0

8
0
1
.
0

3
0
0
.
0

2
6
0
.
0

9
2
1
.
0

5
6
0
.
0
   

3
0
0
.
0
   

)

%
5
0
1
(

0
2
0
.
0

)

%
5
9
(

)

%
8
4
(

)

%
7
7
(

)

%
9
9
(

)

%
7
9
(

)

%
9
6
(

)

%
7
5
(

)

%
0
8
(

)

%
2
5
(

)

%
1
1
(

)

%
5
3
(

)

%
9
6
(

)

%
3
9
(

)

%
1
5
(

)

%
3
1
(

)

%
5
4
(

7
2
0
.
0

2
6
0
.
0
   

3
2
0
.
0

1
5
0
.
0

5
7
0
.
0

6
2
0
.
0
   

7
1
0
.
0

0
8
0
.
0

8
0
3
.
0

3
8
5
.
0

4
4
3
.
0

6
5
0
.
0

3
1
0
.
0

5
7
1
.
0

9
3
4
.
0

8
0
3
.
0

)

%
4
8
(

)

%
7
8
(

)

%
3
9
(

)

%
2
8
(

)

%
5
6
(

)

%
1
6
(

)

%
8
3
(

)

%
2
5
(

)

%
6
8
(

)

%
4
9
(

)

%
9
9
(

)

%
2
5
(

)

%
7
8
(

)

%
3
9
(

)

%
9
6
(

)

%
9
6
(

)

%
4
9
(

)

%
1
6
(

)

%
6
1
(

)

%
6
3
(

)

%
4
7
(

)

%
4
9
(

)

%
5
5
(

)

%
8
1
(

)

%
5
4
(

)

%
3
0
1
(

5
4
0
.
0

8
1
0
.
0

4
3
0
.
0

1
8
0
.
0

3
1
0
.
0
   

7
4
0
.
0

6
6
0
.
0

1
6
0
.
0
   

2
1
0
.
0

2
1
0
.
0

6
2
0
.
0

2
6
0
.
0
   

2
1
0
.
0

7
3
0
.
0

5
5
0
.
0

4
3
0
.
0
   

6
1
0
.
0

8
6
0
.
0

4
4
2
.
0

7
8
4
.
0

0
2
3
.
0

7
3
0
.
0

2
0
0
.
0
   

6
2
1
.
0

3
7
3
.
0

1
6
2
.
0

)

%
4
8
(

)

%
0
9
(

)

%
9
9
(

)

%
4
8
(

)

%
5
7
(

)

%
5
6
(

)

%
5
5
(

)

%
0
7
(

)

%
0
9
(

)

%
3
0
1
(

)

%
1
0
1
(

)

%
3
6
(

)

%
6
8
(

)

%
4
9
(

)

%
6
9
(

)

%
8
7
(

)

%
8
7
(

)

%
7
8
(

)

%
9
6
(

)

%
2
2
(

)

%
9
3
(

)

%
3
8
(

)

%
7
9
(

)

%
4
6
(

)

%
4
2
(

)

%
8
4
(

3
2
0
.
0

8
0
0
.
0

9
2
0
.
0

3
4
0
.
0

7
0
0
.
0
   

5
3
0
.
0

1
5
0
.
0

2
4
0
.
0
   

5
0
0
.
0

2
0
0
.
0

9
1
0
.
0

1
5
0
.
0
   

4
0
0
.
0

6
2
0
.
0

1
4
0
.
0

2
2
0
.
0
   

7
0
0
.
0

2
6
0
.
0

4
6
1
.
0

8
7
3
.
0

0
3
3
.
0

3
3
0
.
0

3
0
0
.
0

0
0
1
.
0

2
7
2
.
0

0
6
2
.
0

)

%
3
9
(

)

%
8
9
(

)

%
9
9
(

)

%
1
0
1
(

)

%
4
8
(

)

%
3
7
(

)

%
2
7
(

)

%
6
7
(

)

%
1
0
1
(

)

%
6
0
1
(

)

%
7
9
(

)

%
6
7
(

)

%
5
9
(

)

%
7
9
(

)

%
1
0
1
(

)

%
3
8
(

)

%
7
8
(

)

%
7
9
(

)

%
9
8
(

)

%
2
4
(

)

%
8
5
(

)

%
2
8
(

)

%
0
8
(

)

%
9
3
(

)

%
2
5
(

)

%
4
0
1
(

0
0
0
.
0

0
1
0
.
0

8
0
0
.
0

5
2
0
.
0

3
0
0
.
0

9
0
0
.
0

1
4
0
.
0

8
2
0
.
0
   

1
1
0
.
0

8
0
0
.
0

6
0
0
.
0

6
3
0
.
0
   

1
0
0
.
0
   

8
1
0
.
0

3
2
0
.
0

1
2
0
.
0
   

4
1
0
.
0

1
3
0
.
0

6
9
0
.
0

3
1
2
.
0

1
0
3
.
0

3
0
0
.
0

1
1
0
.
0

7
6
0
.
0

6
3
2
.
0

4
4
2
.
0

)

%
8
9
(

)

%
5
9
(

)

%
5
0
1
(

)

%
4
0
1
(

)

%
1
9
(

)

%
1
8
(

)

%
2
9
(

)

%
0
9
(

)

%
8
9
(

)

%
1
0
1
(

)

%
4
0
1
(

)

%
1
9
(

)

%
7
9
(

)

%
8
9
(

)

%
4
0
1
(

)

%
1
0
1
(

)

%
5
9
(

)

%
7
9
(

)

%
1
0
1
(

)

%
5
8
(

)

%
8
8
(

)

%
9
9
(

)

%
2
9
(

)

%
7
8
(

)

%
0
8
(

)

%
1
0
1
(

2
0
0
.
0

0
0
0
.
0

4
0
0
.
0
   

7
0
0
.
0

7
0
0
.
0

0
1
0
.
0
   

1
0
0
.
0

0
1
0
.
0
   

5
0
0
.
0
   

3
0
0
.
0

7
0
0
.
0

6
1
0
.
0
   

1
0
0
.
0
   

9
0
0
.
0

2
0
0
.
0

4
0
0
.
0
   

2
1
0
.
0
   

1
1
0
.
0
   

5
0
0
.
0

0
1
0
.
0

5
2
0
.
0

1
0
0
.
0

5
0
0
.
0

3
2
0
.
0

1
5
0
.
0

8
6
0
.
0

y
g
e
t
a
r
t
s

m
o
d
n
a
r

e
e
r
g
e
d

r
p

p
l

m
o
d
n
a
r

e
e
r
g
e
d

r
p

p
l

m
o
d
n
a
r

e
e
r
g
e
d

r
p

p
l

m
o
d
n
a
r

e
e
r
g
e
d

r
p

p
l

m
o
d
n
a
r

e
e
r
g
e
d

r
p

p
l

t
o
o
r
-
r
a
e
n

m
o
d
n
a
r

e
e
r
g
e
d

t
o
o
r
-
r
a
e
n

r
p

p
l

h
p
a
r
g

n
o
z
a
m
a

n
o
r
n
e

d
o
o
w
y
l
l
o
h

l
a
n
r
u
o
j
e
v
i
l

9

t
i
.

k
u
.

n

i

d
e
n
   
e
d

  

e
r
u
s
a
e
m
e
h
t

y
b
(

e
c
n
a
t
s
i

d

e
g
a
r
e
v
a

n

i

e
g
n
a
h
c

e
h
t

w
o
h
s

e
w

s
c
r
a

d
e
v
o
m
e
r

f
o

s
n
o
i
t
c
a
r
f

f
o

e
l
p
m
a
s

a

d
n
a

h
p
a
r
g

h
c
a
e

r
o
f

:
1

e
l

b
a
t

.

n
o
i
t
a
g
a
p
o
r
p

l
e
b
a
l

r
o
f

p
l

d
n
a

,
k
n
a
r
e
g
a
p
r
o
f

s
d
n
a
t
s
r
p

.
s
r
i
a
p

e
l
b
a
h
c
a
e
r

f
o

e
g
a
t
n
e
c
r
e
p

e
h
t

d
n
a

)
2
.
4

n
o
i
t
c
e
s

we considered), but the fact all strategies work very similarly in both cases (e.g., label
propagation is by far the most disruptive strategy) suggests that the phenomenon is intrinsic.
there is a candidate easy explanation: shortest paths in web graphs pass frequently
through home pages, which are linked more than other pages. but this explanation does not
take into account the fact that id91 by label propagation is signi   cantly more e   ective
than the near-root removal strategy. rather, it appears that there are fundamental hubs (not
necessarily home pages) which act as shortcuts and through which a large number of shortest
paths pass. label propagation is able to identify such hubs, and their removal results in an
almost disconnected graph and in a very signi   cant increase in average distance.

these hubs are not necessarily of high outdegree: quite the opposite, rather, is true.
the behaviour of web graphs under the largest-degree strategy is illuminating: we obtain
the smallest reduction in reachable pairs and an almost unnoticeable change of the average
distance, which means that nodes of high outdegree are not actually relevant for the global
structure of the network.

social networks are much more resistant to node removal. there is no strict id91,
nor de   nite hubs, that can be used to eliminate or elongate shortest paths. this is not
surprising, as networks emerging from social interaction are much less engineered (there is
no notion of    site    or    page hierarchy   , for example) than web graphs.

the second important observation is that the removal strategies based on id95 and
label propagation are always the best (with the exception of the near-root strategy for .uk,
which is better than id95). this suggests that label propagation is actually able to
identify structurally important nodes in the graph   in fact, signi   cantly better than any
other method we tested.

is the ranking provided by label propagation correlated to other rankings? certainly
not to the other rankings described in this paper, due to the di   erent level of disruption
it produces on the network. the closest ranking with similar behaviour is id95, but,
for instance, kendall   s    between id95 and ranking by label propagation on the .uk
dataset is        0.002 (complete uncorrelation).

it is interesting to compare our results against those in the previous literature. with
respect to [ajb00], we test much larger networks. we can con   rm that random removal
is less e   ective that rank-based removal, but clearly the variation in diameter measured
in [ajb00] has been made on a symmetrised version of the web graph. symmetrisation
destroys much of the structure of the network, and it is di   cult to justify (you cannot
navigate links backwards). we have evaluated our experiment using the variation in diameter
instead of the variation in average distance (not shown here), but the results are de   nitely
inconclusive. the behaviour is wildly di   erent even between graphs of the same type, and
shows no clear trend. this was expected, as the diameter is de   ned by a maximisation
property, so it is very unstable.

we also evaluated the variation in harmonic diameter (see table 2), to compare our results
with those of [fog03]. the harmonic diameter is very interesting, as it combines reachability
and distance. the data con   rm what we already stated: web graphs react to removal of
30% of their arcs by label propagation by increasing their harmonic diameter by an order
of magnitude   something that does not happen with social networks. table 2 is even more
striking than table 1 in showing that label propagation selects highly disruptive nodes in
web graphs.

our criterion for node elimination is a threshold on the number of arcs removed, rather
than nodes, so it is not possible to compare our results with [fog03] directly. however, for
.uk id95 at    = 0.01 removes 648 nodes, which produced in the .ie graph a relative
increment of 100%, whereas we    nd 14%. this is to be expected, due to the very small

10

3
.
0

2
.
0

5
1
.
0

1
.
0

5
0
.
0

1
0
.
0

)

%
6
6
(

)

%
3
7
(

)

%
9
8
(

)

%
4
6
(

)

%
7
5
(

)

%
3
4
(

)

%
5
2
(

)

%
0
4
(

)

%
2
7
(

)

%
2
9
(

)

%
4
9
(

)

%
3
4
(

)

%
6
6
(

)

%
0
9
(

)

%
0
9
(

)

%
6
5
(

)

%
5
4
(

)

%
5
7
(

)

%
4
3
(

)

%
5
(

)

%
8
2
(

)

%
9
4
(

)

%
8
9
(

)

%
8
3
(

)

%
6
(

)

%
4
3
(

4
2
6
.
0

3
7
4
.
0

4
3
2
.
0

5
9
7
.
0

9
7
8
.
0

3
0
7
.
1

1
4
7
.
3

8
8
3
.
1

2
3
4
.
0

8
2
1
.
0

8
3
1
.
0

6
5
2
.
1

7
8
5
.
0

3
0
2
.
0

1
6
2
.
0

5
4
7
.
0

5
4
3
.
1

4
8
5
.
0

1
2
2
.
3

3
6
7
.
3

8
5
1
.
1

6
4
0
.
0

8
3
2
.
2

9
0
8
.
4
3

3
6
6
.
2

0
5
0
.
2
2

)

%
7
7
(

)

%
6
8
(

)

%
1
9
(

)

%
9
7
(

)

%
5
6
(

)

%
3
5
(

)

%
4
3
(

)

%
2
5
(

)

%
3
7
(

)

%
5
0
1
(

)

%
5
9
(

)

%
8
4
(

)

%
7
7
(

)

%
9
9
(

)

%
7
9
(

)

%
9
6
(

)

%
7
5
(

)

%
0
8
(

)

%
2
5
(

)

%
1
1
(

)

%
5
3
(

)

%
9
6
(

)

%
3
9
(

)

%
1
5
(

)

%
3
1
(

)

%
5
4
(

7
9
3
.
0

4
0
2
.
0

2
7
1
.
0

9
0
4
.
0

2
7
5
.
0

1
4
0
.
1

5
8
2
.
2

5
3
8
.
0

3
7
3
.
0

4
1
0
.
0
   

0
0
1
.
0

8
7
9
.
0

1
3
3
.
0

5
7
0
.
0

9
2
1
.
0

3
4
4
.
0

3
0
8
.
0

9
8
3
.
0

4
2
5
.
1

7
6
8
.
2

8
3
5
.
0

2
9
0
.
0

0
2
3
.
1

9
2
2
.
9

4
4
8
.
1

5
8
2
.
3
1

)

%
4
8
(

)

%
7
8
(

)

%
3
9
(

)

%
2
8
(

)

%
5
6
(

)

%
1
6
(

)

%
8
3
(

)

%
2
5
(

)

%
6
8
(

)

%
4
9
(

)

%
9
9
(

)

%
2
5
(

)

%
7
8
(

)

%
3
9
(

)

%
9
6
(

)

%
9
6
(

)

%
4
9
(

)

%
1
6
(

)

%
6
1
(

)

%
6
3
(

)

%
4
7
(

)

%
4
9
(

)

%
5
5
(

)

%
8
1
(

)

%
5
4
(

)

%
3
0
1
(

5
4
2
.
0

7
9
1
.
0

5
2
1
.
0

1
2
3
.
0

2
5
5
.
0

0
0
8
.
0

8
5
7
.
1

3
3
8
.
0

8
7
1
.
0

7
8
0
.
0

9
4
0
.
0

4
1
8
.
0

2
6
1
.
0

8
1
0
.
0

2
6
1
.
0

3
1
4
.
0

3
0
5
.
0

2
9
1
.
0

7
5
0
.
1

8
7
1
.
8

8
9
6
.
2

6
1
4
.
0

2
7
0
.
0

3
5
0
.
1

1
3
2
.
6

2
1
7
.
1

)

%
4
8
(

)

%
0
9
(

)

%
9
9
(

)

%
4
8
(

)

%
5
7
(

)

%
5
6
(

)

%
5
5
(

)

%
0
7
(

)

%
0
9
(

)

%
3
0
1
(

)

%
1
0
1
(

)

%
3
6
(

)

%
6
8
(

)

%
4
9
(

)

%
6
9
(

)

%
8
7
(

)

%
8
7
(

)

%
7
8
(

)

%
9
6
(

)

%
2
2
(

)

%
9
3
(

)

%
3
8
(

)

%
7
9
(

)

%
4
6
(

)

%
4
2
(

)

%
8
4
(

5
1
2
.
0

1
2
1
.
0

7
7
0
.
0

9
5
2
.
0

7
9
3
.
0

3
2
6
.
0

1
5
9
.
0

5
2
4
.
0

)

%
3
9
(

)

%
8
9
(

)

%
9
9
(

)

%
1
0
1
(

)

%
4
8
(

)

%
3
7
(

)

%
2
7
(

)

%
6
7
(

0
0
1
.
0

3
3
0
.
0

5
3
0
.
0

8
2
0
.
0

7
4
2
.
0

5
3
4
.
0

2
7
4
.
0

1
1
3
.
0

5
2
1
.
0

1
1
0
.
0
   

)

%
1
0
1
(

)

%
6
0
1
(

9
2
0
.
0

2
4
0
.
0
   

8
2
0
.
0

7
3
5
.
0

5
8
1
.
0

4
1
1
.
0

0
9
0
.
0

7
8
2
.
0

3
1
3
.
0

0
2
2
.
0

0
9
6
.
0

2
2
0
.
5

5
1
4
.
2

5
4
2
.
0

6
4
0
.
0

6
1
7
.
0

2
5
1
.
4

2
7
5
.
1

)

%
7
9
(

)

%
6
7
(

)

%
5
9
(

)

%
7
9
(

)

%
1
0
1
(

)

%
3
8
(

)

%
7
8
(

)

%
7
9
(

)

%
9
8
(

)

%
2
4
(

)

%
8
5
(

)

%
2
8
(

)

%
0
8
(

)

%
9
3
(

)

%
2
5
(

)

%
4
0
1
(

5
5
0
.
0

1
8
2
.
0

9
5
0
.
0

7
5
0
.
0

7
2
0
.
0

0
0
2
.
0

3
7
1
.
0

7
7
0
.
0

8
6
2
.
0

5
8
8
.
1

3
3
2
.
1

2
3
2
.
0

2
2
0
.
0
   

0
4
3
.
0

7
1
1
.
2

7
2
3
.
1

)

%
8
9
(

)

%
5
9
(

)

%
5
0
1
(

)

%
4
0
1
(

)

%
1
9
(

)

%
1
8
(

)

%
2
9
(

)

%
0
9
(

)

%
8
9
(

)

%
1
0
1
(

)

%
4
0
1
(

)

%
1
9
(

)

%
7
9
(

)

%
4
0
1
(

)

%
8
9
(

)

%
1
0
1
(

)

%
5
9
(

)

%
7
9
(

)

%
1
0
1
(

)

%
5
8
(

)

%
8
8
(

)

%
9
9
(

)

%
2
9
(

)

%
7
8
(

)

%
0
8
(

)

%
1
0
1
(

6
3
0
.
0

3
3
0
.
0
   

7
5
0
.
0

3
1
0
.
0
   

2
3
1
.
0

9
4
2
.
0

9
3
1
.
0

5
4
1
.
0

2
3
0
.
0

3
1
0
.
0

4
2
0
.
0
   

4
0
1
.
0

6
4
0
.
0

6
2
0
.
0
   

1
4
0
.
0

7
0
0
.
0

9
6
0
.
0

3
3
0
.
0

2
0
0
.
0
   

0
0
2
.
0

6
8
1
.
0

4
2
0
.
0

5
0
0
.
0
   

2
2
1
.
0

6
1
2
.
0

9
3
3
.
0

y
g
e
t
a
r
t
s

m
o
d
n
a
r

e
e
r
g
e
d

r
p

p
l

m
o
d
n
a
r

e
e
r
g
e
d

r
p

p
l

m
o
d
n
a
r

e
e
r
g
e
d

r
p

p
l

m
o
d
n
a
r

e
e
r
g
e
d

r
p

p
l

m
o
d
n
a
r

e
e
r
g
e
d

r
p

p
l

t
o
o
r
-
r
a
e
n

m
o
d
n
a
r

e
e
r
g
e
d

t
o
o
r
-
r
a
e
n

r
p

p
l

h
p
a
r
g

n
o
z
a
m
a

n
o
r
n
e

d
o
o
w
y
l
l
o
h

l
a
n
r
u
o
j
e
v
i
l

11

t
i
.

k
u
.

n

i

d
e
n
   
e
d

  

e
r
u
s
a
e
m
e
h
t

y
b
(

r
e
t
e
m
a
i

d

c
i

n
o
m
r
a
h

n

i

e
g
n
a
h
c

e
h
t
w
o
h
s

e
w
s
c
r
a

d
e
v
o
m
e
r

f
o

s
n
o
i
t
c
a
r
f

f
o

e
l
p
m
a
s

a

d
n
a

h
p
a
r
g

h
c
a
e

r
o
f

:
2

e
l

b
a
t

.

n
o
i
t
a
g
a
p
o
r
p

l
e
b
a
l

r
o
f

p
l

d
n
a

,
k
n
a
r
e
g
a
p
r
o
f

s
d
n
a
t
s
r
p

.
s
r
i
a
p

e
l
b
a
h
c
a
e
r

f
o

e
g
a
t
n
e
c
r
e
p

e
h
t

d
n
a

)
2
.
4

n
o
i
t
c
e
s

size of the dataset used in [fog03]: experience shows that connectedness phenomena in web
graphs are very di   erent in the    below ten million nodes    region. nonetheless, the growth
trend is visibile in both cases. however, the experiments in [fog03] fail to detect both the
disruptive behaviour at    = .3 and the striking di   erence in behaviour between largest-degree
and id95 strategy.

7 conclusions and future work

we have explored experimentally the alterations of the distance distribution of some social
networks and web graphs under di   erent node-removal strategies. we have con   rmed some
of the experimental results that appeared in the literature, but at the same time shown some
basic limitations of previous approaches. in particular, we have shown for the    rst time that
there is a clear-cut structural di   erence between social networks and web graphs11, and that
it is important to test node-removal strategies until a signi   cant fraction of the arcs have
been removed.

probably the most important conclusion is that    scale-free    models, which are currently
proposed for both web graphs and social networks, do not to capture this important di   erence:
for this reason, they can only make sense as long as they are adopted as baselines.

it might be argued that reachable pairs and distance distributions are too coarse as
a feature. nonetheless, we believe that they are the most immediate global feature that
are approachable computationally. for instance, checking whether node removal alters the
id91 coe   cient would not be so interesting, because the id91 coe   cient of each
node depends only on the structure of the neighbourhood of each node. thus, by removing
   rst the nodes with high coe   cient it would be trivial to make the id91 coe   cient of the
graph decrease quickly. such trivial approaches cannot possibly work with reachable pairs or
with distance distributions because they are properties that depend on the graph as a whole.
finally, the e   cacy of label propagation as a removal strategy suggests that it may be
very interesting to study it as a form of ranking: an open question is whether it could be
useful, for instance, as a query-independent ranking for information-retrieval applications.

references

[ajb00]

r  eka albert, hawoong jeong, and albert-l  aszl  o barab  asi. error and attack
tolerance of complex networks. nature, 406:378   382, 2000.

[bck06]

stephen p. borgatti, kathleen m. carley, and david krackhardt. on the robust-
ness of centrality measures under conditions of imperfect data. social networks,
28(2):124   136, 2006.

[be05]

[bor05]

[bor06]

ulrik brandes and thomas erlebach. network analysis: methodological foun-
dations (lecture notes in computer science). number 3418 in lecture notes in
computer science. springer-verlag, 2005.

stephen p. borgatti. centrality and network    ow. social networks, 27(1):55   71,
2005.

stephen p. borgatti. identifying sets of key players in a social network. comput.
math. organ. theory, 12:21   34, april 2006.

11in this paper, like in all the other experimental research on the same topic, conclusions about social
networks should be taken with a grain of salt, due to the heterogeneity of such networks and the lack of a
large repertoire of examples.

12

[bra01]

ulrik brandes. a faster algorithm for betweenness centrality. journal of math-
ematical sociology, 25(2):163   177, 2001.

[brv11a] paolo boldi, marco rosa, and sebastiano vigna. hyperanf: approximating
the neighbourhood function of very large graphs on a budget.
in sadagopan
srinivasan, krithi ramamritham, arun kumar, m. p. ravindra, elisa bertino,
and ravi kumar, editors, proceedings of the 20th international conference on
world wide web, pages 625   634. acm, 2011.

[brv11b] paolo boldi, marco rosa, and sebastiano vigna. robustness of social networks:
comparative results based on distance distributions. in social informatics, third
international conference, socinfo 2011, volume 6894 of lecture notes in com-
puter science, pages 8   21. springer, 2011.

[bsv09]

paolo boldi, massimo santini, and sebastiano vigna. id95: functional
dependencies. acm trans. inf. sys., 27(4):1   23, 2009.

[ch10]

reuven cohen and shlomo havlin. complex networks: structure, robustness
and function. cambridge university press, 2010.

[ckl+09] flavio chierichetti, ravi kumar, silvio lattanzi, michael mitzenmacher,
alessandro panconesi, and prabhakar raghavan. on compressing social net-
works. in kdd    09: proceedings of the 15th acm sigkdd international con-
ference on knowledge discovery and data mining, pages 219   228, new york, ny,
usa, 2009. acm.

[dlmt08] debora donato, stefano leonardi, stefano millozzi, and panayiotis tsaparas.
mining the inner structure of the web graph. journal of physics a: mathematical
and theoretical, 41(22):224017, 2008.

[fog03]

d  aniel fogaras. where to start browsing the web?
in innovative internet
community systems, third international workshop, iics 2003, volume 2877 of
lecture notes in computer science, pages 65   79. springer, 2003.

[ladw05] lun li, david l. alderson, john doyle, and walter willinger. towards a theory
of scale-free graphs: de   nition, properties, and implications. internet math.,
2(4), 2005.

[lm04]

amy n. langville and carl d. meyer. deeper inside id95. internet math-
ematics, 1(3):355   400, 2004.

[mil67]

stanley milgram. the small world problem. psychology today, 2(1):60   67, 1967.

[ml00]

[np03]

massimo marchiori and vito latora. harmony in the small-world. physica a:
statistical mechanics and its applications, 285(3-4):539     546, 2000.

mark e. j. newman and juyong park. why social networks are di   erent from
other types of networks. phys. rev. e, 68(3):036122, 2003.

[pbmw98] lawrence page, sergey brin, rajeev motwani, and terry winograd. the pager-
ank citation ranking: bringing order to the web. technical report, stanford
digital library technologies project, stanford university, stanford, ca, usa,
1998.

13

[pgf02]

christopher r. palmer, phillip b. gibbons, and christos faloutsos. anf: a fast
and scalable tool for data mining in massive graphs. in kdd    02: proceedings of
the eighth acm sigkdd international conference on knowledge discovery and
data mining, pages 81   90, new york, ny, usa, 2002. acm.

[rak07]

usha n. raghavan, r  eka albert, and soundar kumara. near linear time algo-
rithm to detect community structures in large-scale networks. physical review
e (statistical, nonlinear, and soft matter physics), 76(3), 2007.

[wf94]

stanley wasserman and katherine faust. social network analysis: methods and
applications. cambridge univ press, 1994.

14

