compositional vector space models for knowledge base completion

arvind neelakantan, benjamin roth, andrew mccallum

department of computer science

university of massachusetts, amherst

{arvind,beroth,mccallum}@cs.umass.edu

amherst, ma, 01003

5
1
0
2

 

y
a
m
7
2

 

 
 
]
l
c
.
s
c
[
 
 

2
v
2
6
6
6
0

.

4
0
5
1
:
v
i
x
r
a

abstract

knowledge base (kb) completion adds
new facts to a kb by making id136s
from existing facts, for example by infer-
ring with high likelihood nationality(x,y)
from bornin(x,y). most previous methods
infer simple one-hop relational synonyms
like this, or use as evidence a multi-hop re-
lational path treated as an atomic feature,
like bornin(x,z)     containedin(z,y). this
paper presents an approach that reasons
about conjunctions of multi-hop relations
non-atomically, composing the implica-
tions of a path using a recurrent neural
network (id56) that takes as inputs vec-
tor embeddings of the binary relation in
the path. not only does this allow us
to generalize to paths unseen at training
time, but also, with a single high-capacity
id56, to predict new relation types not
seen when the compositional model was
trained (zero-shot learning). we assem-
ble a new dataset of over 52m relational
triples, and show that our method im-
proves over a traditional classi   er by 11%,
and a method leveraging pre-trained em-
beddings by 7%.

1

introduction

constructing large knowledge bases (kbs) sup-
ports downstream reasoning about resolved enti-
ties and their relations, rather than the noisy tex-
tual evidence surrounding their natural language
mentions. for this reason kbs have been of in-
creasing interest in both industry and academia
(bollacker et al., 2008; suchanek et al., 2007;
carlson et al., 2010). such kbs typically con-
tain many millions of facts, most of them (en-
tity1,relation,entity2)    triples    (also known as bi-
nary relations) such as (barack obama, presi-

dentof, usa) and (brad pitt, marriedto, angelina
jolie).

however, even the largest kbs are woefully in-
complete (min et al., 2013), missing many impor-
tant facts, and therefore damaging their usefulness
in downstream tasks.
ironically, these missing
facts can frequently be inferred from other facts al-
ready in the kb, thus representing a sort of incon-
sistency that can be repaired by the application of
an automated process. the addition of new triples
by leveraging existing triples is typically known as
kb completion.

early work on this problem focused on learn-
ing symbolic rules. for example, schoenmack-
ers et al. (2010) learns horn clauses predictive of
new binary relations by exhausitively exploring re-
lational paths of increasing length, and selecting
those surpassing an accuracy threshold. (a    path   
is a sequence of triples in which the second entity
of each triple matches the    rst entity of the next
triple.) lao et al. (2011) introduced the path rank-
ing algorithm (pra), which greatly improves ef-
   ciency and robustness by replacing exhaustive
search with id93, and using unique paths
as features in a per-target-relation binary classi   er.
a typical predictive feature learned by pra is that
countryofheadquarters(x, y) is implied by is-
basedin(x,a) and statelocatedin(a, b) and coun-
trylocatedin(b, y). given isbasedin(microsoft,
seattle), statelocatedin(seattle, washington) and
countrylocatedin(washington, usa), we can in-
fer the fact countryofheadquarters(microsoft,
usa) using the predictive feature. in later work,
lao et al. (2012) greatly increase available raw
material for paths by augmenting kb-schema rela-
tions with relations de   ned by the text connecting
mentions of entities in a large corpus (also known
as openie relations (banko et al., 2007)).

however, these symbolic methods can produce
many millions of distinct paths, each of which is
categorically distinct, treated by pra as a dis-

tinct feature. (see figure 1.) even putting aside
the openie relations, this limits the applicability
of these methods to modern kbs that have thou-
sands of relation types, since the number of dis-
tinct paths increases rapidly with the number of re-
lation types. if textually-de   ned openie relations
are included, the problem is obviously far more
severe.

better generalization can be gained by operat-
ing on embedded vector representations of rela-
tions, in which vector similarity can be interpreted
as semantic similarity. for example, bordes et al.
(2013) learn low-dimensional vector representa-
tions of entities and kb relations, such that vector
differences between two entities should be close
to the vectors associated with their relations. this
approach can    nd relation synonyms, and thus per-
form a kind of one-to-one, non-path-based relation
prediction for kb completion. similarly nickel
et al. (2011) and socher et al. (2013a) perform
kb completion by learning embeddings of rela-
tions, but based on matrices or tensors. universal
schema (riedel et al., 2013) learns to perform rela-
tion prediction cast as matrix completion (likewise
using vector embeddings), but predicts textually-
de   ned openie relations as well as kb relations,
and embeds entity-pairs in addition to individual
entities. like all of the above, it also reasons
about individual relations, not the evidence of a
connected path of relations.

this paper proposes an approach combining the
advantages of (a) reasoning about conjunctions of
relations connected in a path, and (b) generaliza-
tion through vector embeddings, and (c) reasoning
non-atomically and compositionally about the el-
ements of the path, for further generalization.

our method uses recurrent neural networks
(id56s) (werbos, 1990) to compose the semantics
of relations in an arbitrary-length path. at each
path-step it consumes both the vector embedding
of the next relation, and the vector representing the
path-so-far, then outputs a composed vector (rep-
resenting the extended path-so-far), which will be
the input to the next step. after consuming a path,
the id56 should output a vector in the semantic
neighborhood of the relation between the    rst and
last entity of the path. for example, after con-
suming the relation vectors along the path melinda
gates     bill gates     microsoft     seattle, our
method produces a vector very close to the rela-
tion livesin.

figure 1: semantically similar paths connecting entity pair
(microsoft, usa).

our compositional approach allow us at test
time to make predictions from paths that were un-
seen during training, because of the generaliza-
tion provided by vector neighborhoods, and be-
cause they are composed in non-atomic fashion.
this allows our model to seaid113ssly perform in-
ference on many millions of paths in the kb graph.
in most of our experiments, we learn a separate
id56 for predicting each relation type, but alterna-
tively, by learning a single high-capacity composi-
tion function for all relation types, our method can
perform zero-shot learning   predicting new rela-
tion types for which the composition function was
never explicitly trained.

related to our work, new versions of pra
(gardner et al., 2013; gardner et al., 2014) use
pre-trained vector representations of relations to
alleviate its feature explosion problem   but the
core mechanism continues to be a classi   er based
on atomic-path features. in the 2013 work many
paths are collapsed by id91 paths accord-
ing to their relations    embeddings, and substitut-
ing cluster ids for the original relation types. in
the 2014 work unseen paths are mapped to nearby
paths seen at training time, where nearness is mea-
sured using the embeddings. neither is able to per-
form zero-shot learning since there must be a clas-
sifer for each predicted relation type. furthermore
their pre-trained vectors do not have the opportu-
nity to be tuned to the kb completion task because
the two sub-tasks are completely disentangled.

an additional contribution of our work is a
new large-scale data set of over 52 million triples,
and its preprocessing for purposes of path-based
kb completion (can be downloaded from http:
//iesl.cs.umass.edu/downloads/
id136rules/release.tar.gz). the
dataset is build from the combination of freebase
(bollacker et al., 2008) and google   s entity
linking in clueweb (orr et al., 2013). rather than
gardner   s 1000 distinct paths per relation type, we
have over 2 million. rather than gardner   s 200

        founded in        headquartered in        headquarters located inbased inin the u.s.  state of located in the state of beautiful city inin statestate in the nw region of  located in country state part ofdemocratic state in microsoftseattlewashingtonisbasedinstatelocatedincountrylocatedincountryofheadquartersusa                                    2.2 recurrent neural networks
recurrent neural network (id56) (werbos, 1990)
is a neural network that constructs vector repre-
sentation for sequences (of any length). for exam-
ple, a id56 model can be used to construct vec-
tor representations for phrases or sentences (of any
length) in natural language by applying a compo-
sition function (mikolov et al., 2010; sutskever
et al., 2014; vinyals et al., 2014). the vector
representation of a phrase (w1, w2) consisting of
words w1 and w2 is given by f (w [v(w1); v(w2)])
where v(w)     rd is the vector representation of
w, f is an element-wise non linearity function,
[a; b] represents the concatenation two vectors a
and b along with a bias term, and w     rd  2   d+1
is the composition matrix. this operation can
be repeated to construct vector representations of
longer phrases.

3 recurrent neural networks for kb

completion

this paper proposes a id56 model for kb comple-
tion that reasons on the paths connecting an entity
pair to predict missing relation types. the vec-
tor representations of the paths (of any length) in
the kb graph are computed by applying the com-
position function recursively as shown in figure
2. to compute the vector representations for the
higher nodes in the tree, the composition function
consumes the vector representation of the node   s
two children nodes and outputs a new vector of the
same dimension. predictions about missing rela-
tion types are made by comparing the vector repre-
sentation of the path with the vector representation
of the relation using the sigmoid function.

we represent each binary relation using a d-
dimensional real valued vector. we model com-
position using recurrent neural networks (werbos,
1990). we learn a separate composition matrix for
every relation that is predicted.
let vr(  )     rd be the vector representation of
relation    and vp(  )     rd be the vector represen-
tation of path   . vp(  ) denotes the relation vec-
tor if path    is of length one. to predict relation
   = countryofheadquarters, the vector represen-
tation of the path    = isbasedin     statelocate-
din containing two relations isbasedin and state-
locatedin is computed by (figure 2),

vp(  ) =

f (w  [vr(isbasedin); vr(statelocatedin)])

figure 2: vector representations of the paths are computed
by applying the composition function recursively.

entity pairs, we use over 10k. all experimental
comparisons below are performed on this new
data set.

on this challenging large-scale dataset our com-
positional method outperforms pra (lao et al.,
2012), and cluster pra (gardner et al., 2013) by
11% and 7% respectively. a further contribution
of our work is a new, surprisingly strong baseline
method using classi   ers of path bigram features,
which beats pra and cluster pra, and statisti-
cally ties our compositional method. our analysis
shows that our method has substantially different
strengths than the new baseline, and the combi-
nation of the two yields a 15% improvement over
gardner et al. (2013). we also show that our zero-
shot model is indeed capable of predicting new un-
seen relation types.

2 background

we give background on pra which we use to ob-
tain a set of paths connecting the entity pairs and
the id56 model which we employ to model the
composition function.

2.1 path ranking algorithm

since it is impractical to exhaustively obtain the
set of all paths connecting an entity pair in the
large kb graph, we use pra (lao et al., 2011)
to obtain a set of paths connecting the entity pairs.
given a training set of entity pairs for a relation,
pra heuristically    nds a set of paths by perform-
ing id93 from the source and target nodes
keeping the most common paths. we use pra to
   nd millions of distinct paths per relation type. we
do not use the random walk probabilities given by
pra since using it did not yield improvements in
our experiments.

microsoftseattlewashingtonisbasedinstatelocatedinusacountrylocatedincompositoncompositoncountryofheadquarters~where f = sigmoid is the element-wise non-
linearity function, w       rd   2d+1 is the compo-
sition matrix for    = countryofheadquarters and
[a; b] represents the concatenation of two vectors
a     rd, b     rd along with a bias feature to get a
new vector [a; b]     r2d+1.
the vector representation of the path    = is-
basedin     statelocatedin     countrylocatedin
in figure 2 is computed similarly by,

vp(  ) =

f (w  [vp(  ); vr( countrylocatedin)])

where vp(  ) is the vector representation of path is-
basedin     statelocatedin. while computing the
vector representation of a path we always traverse
left to right, composing the relation vector in the
right with the accumulated path vector in the left1.
this makes our model a recurrent neural network
(werbos, 1990).

finally, we make a prediction regarding coun-
tryofheadquarters(microsoft, usa) using the
path    = isbasedin     statelocatedin     coun-
trylocatedin by comparing the vector represen-
tation of the path (vp(  )) with the vector repre-
sentation of the relation countryofheadquarters
(vr(countryofheadquarters)) using the sigmoid
function.

3.1 model training
we train the model with the existing facts in a
kb using them as positive examples and nega-
tive examples are obtained by treating the unob-
served instances as negative examples (mintz et
al., 2009; lao et al., 2011; riedel et al., 2013; bor-
des et al., 2013). unlike in previous work that use
id56s(socher et al., 2011; iyyer et al., 2014; irsoy
and cardie, 2014), a challenge with using them
for our task is that among the set of paths connect-
ing an entity pair, we do not observe which of the
path(s) is predictive of a relation. we select the
path that is closest to the relation type to be pre-
dicted in the vector space. this not only allows
for faster training (compared to marginalization)
but also gives improved performance. this tech-
nique has been successfully used in models other
than id56s previously (weston et al., 2013; nee-
lakantan et al., 2014).

1we did not get signi   cant improvements when we tried
more sophisticated ordering schemes for computing the path
representations.

algorithm 1 training algorithm of id56 model for rela-
tion   
1: input:      =   +

   ,     , number of itera-

            

   vr = 0,    w   = 0 and b = 0
for    = (  ,   )          do

     = arg max         (  ) vp(  ).vr(  )
accumulate gradients to    vr,    w  

using path     .
b = b + 1
if b = b then

tions t , mini-batch size b
2: initialize vr, w   randomly
3: for t = 1, 2, . . . , t do
4:
5:
6:
7:
8:
9:
10:
11:
12:
13:
14:
15:
16:
17:
18: end for
19: output: vr, w  

end for
if b > 0 then

end if

end if

gradient update for vr, w  
   vr = 0,    w   = 0 and b = 0

gradient update for vr, w  

we assume that we are given a kb (for exam-
ple, freebase enriched with svo triples) contain-
ing a set of entity pairs   , set of relations     and
a set of observed facts   + where       = (  ,   )    
  +(         ,           ) indicates a positive fact that
entity pair    is in relation   . let     (  ) denote the
set of paths connecting entity pair    given by pra
for predicting relation   .

in our task, we only observe the set of paths
connecting an entity pair but we do not observe
which of the path(s) is predictive of the fact. we
treat this as a latent variable (     for the fact   )
and we assign      the path whose vector represen-
tation has maximum dot product with the vector
representation of the relation to be predicted. for
example,      for the fact    = (  ,   )       + is given
by,

     = arg max
         (  )

vp(  ).vr(  )

during training, we assign      using the current
parameter estimates. we use the same procedure
to assign      for unobserved facts that are used as
negative examples during training.

we train a separate id56 model for predicting
each relation and the parameters of the model for
predicting relation            are    = {vr(  )         
   , w  }. given a training set consisting of posi-

   ) instances2 for relation
tive (  +
  , the parameters are trained to maximize the log
likelihood of the training set with l-2 regulariza-
tion.
      = arg max

   ) and negative (     
(cid:88)
(cid:88)

p (y   = 1;   )+

  =(  ,  )     +

p (y   = 0;   )       (cid:107)  (cid:107)2

  

  

  =(  ,  )        

  

where y   is a binary random variable which takes
the value 1 if the fact    is true and 0 otherwise, and
the id203 of a fact p (y   = 1;   ) is given by,

p (y   = 1;   ) = sigmoid(vp(    ).vr(  ))
vp(  ).vr(  )

where      = arg max
         (  )

and p (y   = 0;   ) = 1     p (y   = 1;   ). the
relation vectors and the composition matrix are
initialized randomly. we train the network us-
ing id26 through structure (goller and
k  uchler, 1996).
4 zero-shot kb completion
the kb completion task involves predicting facts
on thousands of relations types and it is highly de-
sirable that a method can infer facts about relation
types without directly training for them. given the
vector representation of the relations, we show that
our model described in the previous section is ca-
pable of predicting relational facts without explic-
itly training for the target (or test) relation types
(zero-shot learning).

in zero-shot or zero-data learning (larochelle et
al., 2008; palatucci et al., 2009), some labels or
classes are not available during training the model
and only a description of those classes are given
at prediction time. we make two modi   cations to
the model described in the previous section, (1)
learn a general composition matrix, and (2)    x re-
lation vectors with pre-trained vectors, so that we
can predict relations that are unseen during train-
ing. this ability of the model to generalize to un-
seen relations is beyond the capabilities of all pre-
vious methods for kb id136 (schoenmackers
et al., 2010; lao et al., 2011; gardner et al., 2013;
gardner et al., 2014).

we learn a general composition matrix for all
relations instead of learning a separate composi-
tion matrix for every relation to be predicted. so,
2we sub-sample a portion of the set of all unobserved in-

stances.

for example, the vector representation of the path
   = isbasedin     statelocatedin containing two
relations isbasedin and statelocatedin is com-
puted by (figure 2),

vp(  ) =

f (w [vr(isbasedin); vr(statelocatedin)])
where w     rd   2d+1 is the general composition
matrix.

we initialize the vector representations of the
binary relations (vr) using the representations
learned in riedel et al. (2013) and do not update
them during training. the relation vectors are not
updated because at prediction time we would be
predicting relation types which are never seen dur-
ing training and hence their vectors would never
get updated. we learn only the general composi-
tion matrix in this model. we train a single model
for a set of relation types by replacing the sigmoid
function with a softmax function while computing
probabilities and the parameters of the composi-
tion matrix are learned using the available train-
ing data containing instances of few relations. the
other aspects of the model remain unchanged.

to predict facts whose relation types are unseen
during training, we compute the vector represen-
tation of the path using the general composition
matrix and compute the id203 of the fact us-
ing the pre-trained relation vector. for example,
using the vector representation of the path    = is-
basedin     statelocatedin     countrylocatedin
in figure 2, we can predict any relation irrespec-
tive of whether they are seen at training by com-
paring it with the pre-trained relation vectors.

5 experiments

the hyperparameters of all the models were tuned
on the same held-out development data. all the
neural network models are trained for 150 itera-
tions using 50 dimensional relation vectors, and
we set the l2-regularizer and learning rate to
0.0001 and 0.1 respectively. we halved the learn-
ing rate after every 60 iterations and use mini-
batches of size 20. the neural networks and the
classi   ers were optimized using adagrad (duchi
et al., 2011).

5.1 data
we ran experiments on freebase (bollacker et al.,
2008) enriched with information from clueweb.

entities
freebase triples
clueweb triples
relations
relation types tested
avg. paths/relation
avg. training facts/relation
avg. positive test instances/relation
avg. negative test instances/relation

18m
40m
12m
25,994
46
2.3m
6638
3492
43,160

table 1: statistics of our dataset.

we use the publicly available entity links to free-
base in the clueweb dataset (orr et al., 2013).
hence, we create nodes only for freebase enti-
ties in our kb graph. we remove facts containing
/type/object/type as they do not give useful pre-
dictive information for our task. we get triples
from clueweb by considering sentences that con-
tain two entities linked to freebase. we extract the
phrase between the two entities and treat them as
the relation types. for phrases that are of length
greater than four we keep only the    rst and last
two words. this helps us to avoid the time con-
suming step of id33 the sentence
to get the relation type. these triples are similar to
facts obtained by openie (banko et al., 2007). to
reduce noise, we select relation types that occur at
least 50 times. we evaluate on 46 relation types in
freebase that have the most number of instances.
the methods are evaluated on a subset of facts in
freebase that were hidden during training. table
1 shows important statistics of our dataset.

5.2 predictive paths
table 2 shows predictive paths for 4 relations
learned by the id56 model. the high quality of
unseen paths is indicative of the fact that the id56
model is able to generalize to paths that are never
seen during training.

5.3 results
using our dataset, we compare the performance of
the following methods:
pra classi   er is the method in lao et al. (2012)
which trains a id28 classi   er by cre-
ating a feature for every path type.
cluster pra classi   er
is the method in gard-
ner et al. (2013) which replaces relation types from
clueweb triples with their cluster membership in
the kb graph before the path    nding step. af-

ter this step, their method proceeds in exactly the
same manner as lao et al. (2012) training a logis-
tic regression classi   er by creating a feature for
every path type. we use pre-trained relation vec-
tors from riedel et al. (2013) and use id116
id91 to cluster the relation types to 25 clus-
ters as done in gardner et al. (2013).
composition-add uses a simple element-wise ad-
dition followed by sigmoid non-linearity as the
composition function similar to yang et al. (2014).
id56-random is the supervised id56 model de-
scribed in section 3 with the relation vectors ini-
tialized randomly.
id56 is the supervised id56 model described in
section 3 with the relation vectors initialized using
the method in riedel et al. (2013).
pra classi   er-b is our simple extension to the
method in lao et al. (2012) which additionally
uses bigrams in the path as features. we add a
special start and stop symbol to the path before
computing the bigram features.
cluster pra classi   er-b is our simple extension
to the method in gardner et al. (2013) which ad-
ditionally uses bigram features computed as previ-
ously described.
id56 + pra classi   er combines the predictions
of id56 and pra classi   er. we combine the pre-
dictions by assigning the score of a fact as the sum
of their rank in the two models after sorting them
in ascending order.
id56 + pra classi   er-b combines the predictions
of id56 and pra classi   er-b using the technique
described previously.

table 3 shows the results of our experiments.
the method described in gardner et al. (2014) is
not included in the table since the publicly avail-
able implementation does not scale to our large
dataset. first, we show that it is better to train the
models using all the path types instead of using
only the top 1, 000 path types as done in previous
work (gardner et al., 2013; gardner et al., 2014).
we can see that the id56 model performs signif-
icantly better than the baseline methods of lao et
al. (2012) and gardner et al. (2013). the perfor-
mance of the id56 model is not affected by initial-
ization since using random vectors and pre-trained
vectors results in similar performance.

a surprising result is the impressive perfor-
mance of our simple extension to the classi   er
approach. after the addition of bigram features,
the naive pra method is as effective as the clus-

/people/person/place of birth/

(person    x    born in place    y   )

(book    x    written in language    y   )

/book/written work/original language/

relation:
seen paths:
/book/written work/previous in series     /book/written work/author     /people/person/nationality     /people/person/nationality   1
    /people/person/languages
/book/written work/author     /people/ethnicity/people   1     /people/ethnicity/languages spoken
unseen paths:
   in      1 -    writer      1     /people/person/nationality   1     /people/person/languages
/book/written work/author     addresses     /people/person/nationality   1     /people/person/languages
relation:
seen paths:
   was,born,in        /location/mailing address/citytown   1     /location/mailing address/state province region
   from        /location/location/contains   1
unseen paths:
   born,in        /location/location/contains        near      1
   was,born,in        commonly,known,as   1
relation:
/geography/river/cities/
seen paths:
   at        /location/location/contains   1
   meets,the        /transportation/bridge/body of water spanned   1     /location/location/contains   1        in   
unseen paths:
/geography/lake/out   ow   1     /location/location/contains   1
/geography/lake/out   ow   1     /location/location/contains   1        near   
relation:
(person    y    part of family    x   )
seen paths:
/royalty/monarch/royal line   1     /people/person/children     /royalty/monarch/royal line
    /royalty/royal line/monarchs from this line
/royalty/royal line/monarchs from this line     /people/person/parents   1     /people/person/parents   1     /people/person/parents   1
unseen paths:
/royalty/monarch/royal line   1        leader      1        king           was,married,to      1
   of,the      1        but,also,of           married           defended      1

(river    x       ows through or borders    y   )

/people/family/members/

table 2: predictive paths, according to the id56 model, for 4 target relations. two examples of seen and
unseen paths are shown for each target relation. inverse relations are marked by    1, i.e, r(x, y) =   
r   1(y, x),   (x, y)     r. relations within quotes are openie (textual) relation types.

method
pra classi   er
cluster pra classi   er
composition-add
id56-random
id56
pra classi   er-b
cluster pra classi   er-b
id56 + pra classi   er
id56 + pra classi   er-b

train with
top 1000 paths
map
43.46
46.26
40.23
45.52
46.61
48.09
48.72
49.92
51.94

train with
all paths
map
51.31
53.23
45.37
56.91
56.95
58.13
58.02
58.42
61.17

table 3: results comparing different methods on 46 types. all the methods perform better when trained
using all the paths than training using the top 1, 000 paths. when training with all the paths, id56
performs signi   cantly (p < 0.005) better than pra classi   er and cluster pra classi   er. the small
difference in performance between id56 and both pra classi   er-b and cluster pra classi   er-b is not
statistically signi   cant. the best results are obtained by combining the predictions of id56 with pra
classi   er-b which performs signi   cantly (p < 10   5) better than both pra classi   er-b and cluster pra
classi   er-b.

ter pra method. the small difference in perfor-
mance between id56 and both pra classi   er-b
and cluster pra classi   er-b is not statistically
signi   cant. we conjecture that our method has

substantially different strengths than the new base-
line. while the classi   er with bigram features has
an ability to accurately memorize important local
structure, the id56 model generalizes better to un-

train with
top 1000 paths
map
43.82
19.28

7.59

train with
all paths
map
50.10
20.61

method
id56
zero-shot
random

table 4: results comparing the zero-shot model
with supervised id56 and a random baseline on
10 types. id56 is the fully supervised model de-
scribed in section 3 while zero-shot is the model
described in section 4. the zero-shot model with-
out explicitly training for the target relation types
achieves impressive results by performing signi   -
cantly (p < 0.05) better than a random baseline.

seen paths that are very different from the paths
seen is training. empirically, combining the pre-
dictions of id56 and pra classi   er-b achieves a
statistically signi   cant gain over pra classi   er-b.
5.3.1 zero-shot
table 4 shows the results of the zero-shot model
described in section 4 compared with the fully su-
pervised id56 model (section 3) and a baseline
that produces a random ordering of the test facts.
we evaluate on randomly selected 10 (out of 46)
relation types, hence for the fully supervised ver-
sion we train 10 id56s, one for each relation type.
for evaluating the zero-shot model, we randomly
split the relations into two sets of equal size and
train a zero-shot model on one set and test on the
other set. so, in this case we have two id56s
making predictions on relation types that they have
never seen during training. as expected, the fully
supervised id56 outperforms the zero-shot model
by a large margin but the zero-shot model with-
out using any direct supervision clearly performs
much better than a random baseline.
5.3.2 discussion
to investigate whether the performance of the
id56s were affected by multiple local optima is-
sues, we combined the predictions of    ve different
id56s trained using all the paths. apart from id56
and id56-random, we trained three more id56s
with different random initialization and the perfor-
mance of the three id56s individually are 57.09,
57.11 and 56.91. the performance of the ensem-
ble is 59.16 and their performance stopped im-
proving after using three id56s. so, this indicates
that even though multiple local optima affects the

performance, it is likely not the only issue since
the performance of the ensemble is still less than
the performance of id56 + pra classi   er-b.

we suspect the id56 model does not capture
some of the important local structure as well as
the classi   er using bigram features. to overcome
this drawback, in future work, we plan to explore
compositional models that have a longer memory
(hochreiter and schmidhuber, 1997; cho et al.,
2014; mikolov et al., 2014). we also plan to in-
clude vector representations for the entities and
develop models that address the issue of polysemy
in verb phrases (cheng et al., 2014).

6 related work

kb completion includes methods such as lin
and pantel (2001), yates and etzioni (2007) and
berant et al. (2011) that learn id136 rules of
length one. schoenmackers et al. (2010) learn
general id136 rules by considering the set of
all paths in the kb and selecting paths that sat-
isfy a certain precision threshold. their method
does not scale well to modern kbs and also de-
pends on carefully tuned thresholds. lao et al.
(2011) train a simple id28 classi   er
with nell kb paths as features to perform kb
completion while gardner et al. (2013) and gard-
ner et al. (2014) extend it by using pre-trained re-
lation vectors to overcome feature sparsity. re-
cently, yang et al. (2014) learn id136 rules us-
ing simple element-wise addition or multiplication
as the composition function.
compositional vector space models have been
developed to represent phrases and sentences in
natural language as vectors (mitchell and lap-
ata, 2008; baroni and zamparelli, 2010; yesse-
nalina and cardie, 2011). neural networks have
been successfully used to learn vector representa-
tions of phrases using the vector representations
of the words in that phrase. recurrent neural net-
works have been used for many tasks such as lan-
guage modeling (mikolov et al., 2010), machine
translation (sutskever et al., 2014) and parsing
(vinyals et al., 2014). id56s,
a more general version of the recurrent neural net-
works have been used for many tasks like pars-
ing (socher et al., 2011), sentiment classi   cation
(socher et al., 2012; socher et al., 2013c; irsoy
and cardie, 2014), id53 (iyyer et
al., 2014) and natural language logical semantics
(bowman et al., 2014). our overall approach is

similar to id56s with attention (bahdanau et al.,
2014; graves, 2013) since we select a path among
the set of paths connecting the entity pair to make
the    nal prediction.
zero-shot or zero-data learning was introduced
in larochelle et al. (2008) for character recogni-
tion and drug discovery. palatucci et al. (2009)
perform zero-shot learning for neural decoding
while there has been plenty of work in this direc-
tion for image recognition (socher et al., 2013b;
frome et al., 2013; norouzi et al., 2014).

7 conclusion

compositional vector

we develop a
space
model
for knowledge base completion using
recurrent neural networks.
in our challeng-
ing large-scale dataset available at http:
//iesl.cs.umass.edu/downloads/
id136rules/release.tar.gz,
our method outperforms two baseline methods
and performs competitively with a modi   ed
stronger baseline. the best results are obtained
by combining the predictions of our model with
the predictions of the modi   ed baseline which
achieves a 15% improvement over gardner et
al. (2013). we also show that our model has the
ability to perform zero-shot id136.

acknowledgments

we thank matt gardner for releasing the pra
code, and for answering numerous question about
the code and data. we also thanks the stanford
nlp group for releasing the neural networks code.
this work was supported in part by the center
for intelligent information retrieval, in part by
darpa under agreement number fa8750-13-2-
0020, in part by an award from google, and in
part by nsf grant #cns-0958392. the u.s. gov-
ernment is authorized to reproduce and distribute
reprints for governmental purposes notwithstand-
ing any copyright notation thereon. any opinions,
   ndings and conclusions or recommendations ex-
pressed in this material are those of the authors and
do not necessarily re   ect those of the sponsor.

references

dzmitry bahdanau, kyunghyun cho, and yoshua ben-
gio. 2014. id4 by jointly
learning to align and translate. in arxiv.

michele banko, michael j cafarella, stephen soder-
land, matt broadhead, and oren etzioni.
2007.
id10 from the web. in inter-
national joint conference on arti   cial intelligence.

marco baroni and roberto zamparelli. 2010. nouns
are vectors, adjectives are matrices: representing
adjective-noun constructions in semantic space. in
empirical methods in natural language process-
ing.

jonathan berant, ido dagan, and jacob goldberger.
2011. global learning of typed entailment rules. in
association for computational linguistics.

kurt bollacker, colin evans, praveen paritosh, tim
sturge, and jamie taylor. 2008. freebase: a col-
laboratively created graph database for structuring
human knowledge. in proceedings of the acm sig-
mod international conference on management of
data.

antoine bordes, nicolas usunier, alberto garc    a-
dur  an, jason weston, and oksana yakhnenko.
2013. translating embeddings for modeling multi-
relational data. in advances in neural information
processing systems.

samuel r. bowman, christopher potts, and christo-
pher d manning. 2014. id56s
for learning logical semantics. in corr.

andrew carlson, justin betteridge, bryan kisiel, burr
settles, estevam r. hruschka, and a. 2010. toward
an architecture for never-ending language learning.
in in aaai.

cheng, jianpeng kartsaklis, and edward grefenstette.
2014. investigating the role of prior disambiguation
in deep-learning compositional models of meaning.
in in learning semantics workshop nips.

kyunghyun cho, bart van merrienboer, dzmitry bah-
danau, and yoshua bengio. 2014. on the properties
of id4: encoder   decoder ap-
in workshop on syntax, semantics and
proaches.
structure in statistical translation.

john duchi, elad hazan, and yoram singer. 2011.
adaptive subgradient methods for online learning
and stochastic optimization. in journal of machine
learning research.

andrea frome, gregory s. corrado, jonathon shlens,
samy bengio, jeffrey dean, marc   aurelio ranzato,
and tomas mikolov. 2013. devise: a deep visual-
semantic embedding model. in neural information
processing systems.

matt gardner, partha pratim talukdar, bryan kisiel,
improving learning
and tom m. mitchell. 2013.
and id136 in a large knowledge-base using la-
tent syntactic cues. in empirical methods in natural
language processing.

matt gardner, partha talukdar, jayant krishnamurthy,
and tom mitchell. 2014. incorporating vector space
similarity in random walk id136 over knowledge
bases. in empirical methods in natural language
processing.

christoph goller and andreas k  uchler. 1996. learn-
ing task-dependent distributed representations by
id26 through structure. in ieee trans-
actions on neural networks.

alex graves. 2013. generating sequences with recur-

rent neural networks. in arxiv.

sepp hochreiter and j  urgen schmidhuber. 1997. long

short-term memory. in neural computation.

ozan irsoy and claire cardie. 2014. deep recursive
neural networks for compositionality in language.
in neural information processing systems.

mohit iyyer, jordan boyd-graber, leonardo claudino,
richard socher, and hal daum  e iii. 2014. a neural
network for factoid id53 over para-
graphs. in empirical methods in natural language
processing.

ni lao, tom mitchell, and william w. cohen. 2011.
random walk id136 and learning in a large scale
knowledge base. in conference on empirical meth-
ods in natural language processing.

ni lao, amarnag subramanya, fernando pereira, and
william w. cohen. 2012. reading the web with
learned syntactic-semantic id136 rules. in joint
conference on empirical methods in natural lan-
guage processing and computational natural lan-
guage learning.

hugo larochelle, dumitru erhan, and yoshua bengio.
2008. zero-data learning of new tasks. in national
conference on arti   cial intelligence.

dekang lin and patrick pantel. 2001. dirt - discovery
of id136 rules from text. in international con-
ference on knowledge discovery and data mining.

tomas mikolov, martin kara     at, lukas burget, jan
cernock  y, and sanjeev khudanpur. 2010. recur-
rent neural network based language model. in an-
nual conference of the international speech com-
munication association.

tomas mikolov, armand joulin, sumit chopra,
micha  el mathieu, and marc   aurelio ranzato. 2014.
learning longer memory in recurrent neural net-
works. in corr.

bonan min, ralph grishman, li wan, chang wang,
and david gondek. 2013. distant supervision for
id36 with an incomplete knowledge
base. in hlt-naacl, pages 777   782.

mike mintz, steven bills, rion snow, and dan juraf-
sky. 2009. distant supervision for relation extrac-
tion without labeled data. in association for com-
putational linguistics and international joint con-
ference on natural language processing.

jeff mitchell and mirella lapata. 2008. vector-based
models of semantic composition. in association for
computational linguistics.

arvind neelakantan, jeevan shankar, alexandre pas-
sos, and andrew mccallum. 2014. ef   cient non-
parametric estimation of multiple embeddings per
word in vector space. in empirical methods in nat-
ural language processing.

maximilian nickel, volker tresp, and hans-peter
kriegel. 2011. a three-way model for collective
in international
learning on multi-relational data.
conference on machine learning.

mohammad norouzi, tomas mikolov, samy bengio,
yoram singer, jonathon shlens, andrea frome,
greg corrado, and jeffrey dean. 2014. zero-shot
learning by convex combination of semantic em-
beddings. in international conference on learning
representations.

dave orr,

subramanya,

amarnag
and michael ringgaard.

evgeniy
gabrilovich,
2013.
11 billion clues in 800 million documents: a web
research corpus annotated with freebase concepts.
http://googleresearch.blogspot.com/2013/07/11-
billion-clues-in-800-million.html.

mark palatucci, dean pomerleau, geoffrey hinton,
and tom mitchell. 2009. zero-shot learning with
semantic output codes. in neural information pro-
cessing systems.

sebastian riedel, limin yao, andrew mccallum, and
benjamin m. marlin. 2013. id36
with id105 and universal schemas. in
hlt-naacl.

stefan schoenmackers, oren etzioni, daniel s. weld,
and jesse davis. 2010. learning    rst-order horn
clauses from web text. in empirical methods in nat-
ural language processing.

richard socher, cliff chiung-yu lin, christopher d.
manning, and andrew y. ng. 2011. parsing natu-
ral scenes and natural language with recursive neural
networks. in proceedings of the 26th international
conference on machine learning (icml).

richard socher, brody huval, christopher d. man-
ning, and andrew y. ng. 2012. semantic com-
positionality through recursive matrix-vector spaces.
in joint conference on empirical methods in natu-
ral language processing and computational natu-
ral language learning.

richard socher, danqi chen, christopher d manning,
and andrew ng. 2013a. reasoning with neural ten-
sor networks for knowledge base completion. in ad-
vances in neural information processing systems.

richard socher, milind ganjoo, christopher d man-
ning, and andrew ng. 2013b. zero-shot learning
through cross-modal transfer. in neural information
processing systems.

richard socher, alex perelygin, jean wu, jason
chuang, christopher d. manning, andrew y. ng,
and christopher potts. 2013c. recursive deep mod-
els for semantic compositionality over a sentiment
in conference on empirical methods in
treebank.
natural language processing.

fabian m. suchanek, gjergji kasneci, and gerhard
weikum. 2007. yago: a core of semantic knowl-
edge. in proceedings of the 16th international con-
ference on world wide web.

ilya sutskever, oriol vinyals, and quoc v. v le.
2014. sequence to sequence learning with neural
networks. in advances in neural information pro-
cessing systems.

oriol vinyals, lukasz kaiser, terry koo, slav petrov,
ilya sutskever, and geoffrey hinton. 2014. gram-
mar as a foreign language. in corr.

paul werbos. 1990. id26 through time:

what it does and how to do it. in ieee.

jason weston, ron weiss, and hector yee.

2013.
nonlinear latent factorization by embedding multi-
ple user interests. in acm international conference
on recommender systems.

bishan yang, wen-tau yih, xiaodong he, jianfeng
gao, and li deng. 2014. embedding entities and
relations for learning and id136 in knowledge
bases. in corr.

alexander yates and oren etzioni. 2007. unsuper-
vised resolution of objects and relations on the web.
in north american chapter of the association for
computational linguistics.

ainur yessenalina and claire cardie. 2011. compo-
sitional matrix-space models for id31.
in empirical methods in natural language process-
ing.

