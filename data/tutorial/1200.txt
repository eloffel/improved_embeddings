introduction to id151esslli 2005chris callison-burchphilipp koehnwho we are   chris = phd student at university of edinburgh, co-founder of linear b ltd, a startup company that builds smt systems   philipp = lecturer at u of edinburgh, recently    nished his phd at university of southern california / isi, did postdoc at mitcourse overview   day 1:    - different approaches to mt   - overview of statistical mt   - useful resources    day 2:  - decoding and search   day 3:  - aligning words and phrasescourse overview   day 4:    - evaluation of translation quality   - using parallel corpora for other tasks   day 5:   - syntax-based approaches to smtoverview of mt   machine translation was one of the    rst applications envisioned for computers   warren weaver (1949)   i have a text in front of me which is written in russian but i am going to pretend that it is really written in english and that it has been coded in some strange symbols. all i need to do is strip off the code in order to retrieve the information contained in the text.       first demonstrated by ibm in 1954 with a basic word-for-word translation system.a long history   u.s. has invested in mt for intelligence purposes    mt is popular on the web -- it is the most used of google's special features   eu spends more than !1,000,000,000 on translation costs each year.  (semi-) automating that could lead to huge savingscommercially interestingacademically interesting   machine translation requires many other nlp technologies   potentially: parsing, generation, id51, id39, id68, pronoun resolution, natural language understanding, and real-world knowledge what makes mt hard?   word order   word sense   pronouns   tense   idiomsdiffering word orders   english word order is     subject - verb - objectjapanese order is           subject - object - verb   english:  ibm bought lotusjapanese: ibm lotus bought   english: reporters said ibm bought lotusjapanese: reporters ibm lotus bought saidword sense ambiguity   `bank' as in river`bank' as in    nancial institution   `plant' as in a tree`plant' as in a factory   different word senses will likely translate into different words in another languageproblem of pronouns   some languages like spanish can drop subject pronouns   in spanish the verbal in   ection often indicates which pronoun should be restored-o =  i-as=  you-a =  he / she / it-amos = we-an = they    when should we use `she' or `he' or `it'? different tenses   spanish has two versions of the past tense:one for a de   nite time in the past, and one for an unknown time in the past   when translating from english to spanish we need to choose which version of the past tense to useidioms   "to kick the bucket'' means "to die''   "a bone of contention" does not have anything to do with skeletons   "a lame duck", "tongue in cheek", "to cave in" various approaches to machine translationvarious approaches   word-for-word translation   syntactic transfer    interlingual approaches   controlled language   example-based translation   statistical translationword-for-word translation   use a machine-readable bilingual dictionary to translate each work in a text   advantages: easy to implement, results give a rough idea about what the text is about   disadvantages: problems with word order means that this results in low-quality translationsyntactic transfersnp (subj)vpvs (obj)np (subj)vpvnp (obj)reporterssaidibmboughtlotussnp (subj)vpvs (obj)np (subj)vpvnp (obj)reporterssaidibmboughtlotus   parse the sentence   rearrange constituents   then translate the wordssyntactic transfertotomnvbprpvb1vb2headoreslisteningvbtomusicsyntactic transfertomntomusictovbprpvb1vb2headoreslisteningvbhaganodesukareongakuwokikudaisukisyntactic transfer   advantages:deals with the word-order problem   disadvantages: - must construct transfer rules for each  language pair that you deal with- sometimes there is syntactic mis-match   example:english:  the bottle    oated into the cavespanish: la botella entro a la cuerva    otando         = the bottle entered the cave    oatinginterlingua   assign a logical form to sentences   john must not go = obligatory(not(go(john)))john may not go = not(permitted(go(john)))    use logical form to generate a sentence in another languageinterlingua   advantages: single logical form means that we can translate between all languages and only write a parser/generator for each language once   disadvantages:dif   cult to de   ne a single logical form.  english words in all capital letter probably won't cut it.controlled language   de   ne a subset of a language which can be used to compose text to be translated   issued editorial guidelines that limit each word to only one word sense, and which forbid certain dif   cult constructions   apply syntactic transfer or interlingual approachescontrolled language   advantages:  results in more reliable, higher quality translation for subset of language that it deals with   disadvantages: does not cover all language use, so can only be applied in limited settingsexample-based mt   fundamental idea:   - people do not translate by doing deep     linguistics analysis of a sentence.   - they translate by decomposing sentence     into fragments, translating each of those,     and then composing those properly.   principle of analogy in translationexample of example-based mt   translate:he buys a book on international politics.   with these examples:(he buys) a notebook.(kare ha) nouto (wo kau).i read (a book on international politics).watashi ha (kokusaiseiji nitsuite kakareta hon) wo yomu   (kare ha) (kokusaiseiji nitsuite kakareta hon) (wo kau).challenges   locating similar sentences   aligning sub-sentential  fragments   combining multiple fragments of example translations into a single sentence   determining when it is appropriate to substitute one fragment for another    selecting the best translation out of many candidatesexample-based mt   advantages: uses fragments of human translations which can result in higher quality   disadvantages: may have limited coverage depending on the size of the example database, and    exibility of matching heuristicsid151   find most probable english sentence given a foreign language sentence    automatically align words and phrases within sentence pairs in a parallel corpus   probabilities are determined automatically by training a statistical model using the parallel corpusparallel corpussooner or later we will have to be suf   ciently progressive in terms of own resources as a basis for this fair tax system . we plan to submit the    rst accession partnership in the autumn of this year .  it is a question of equality and solidarity .   the recommendation for the year 1999 has been formulated at a time of favourable developments and optimistic prospects for the european economy .that does not , however , detract from the deep appreciation which we have for this report . what is more , the relevant cost dynamic is completely under control.  fr  her oder sp  ter m  ssen wir die notwendige progressivit  t der eigenmittel als grundlage dieses gerechten steuersystems zur sprache bringen . wir planen , die erste beitrittspartnerschaft im herbst dieses jahres vorzulegen .hier geht es um gleichberechtigung und solidarit  t .die empfehlung f  r das jahr 1999 wurde vor dem hintergrund g  nstiger entwicklungen und einer f  r den kurs der europ  ischen wirtschaft positiven perspektive abgegeben .  im   brigen tut das unserer hohen wertsch  tzung f  r den vorliegenden bericht keinen abbruch . im   brigen ist die diesbez  gliche kostenentwicklung v  llig unter kontrolle .  id151   advantages:- has a way of dealing with lexical ambiguity- can deal with idioms that occur in the  training data- requires minimal human effort- can be created for any language pair that  has enough training data   disadvantages:does not explicitly deal with syntaxchoosing an approach   many challenges in mt, many different ways of approaching the task   what approach you prefer will depend on your background (i.e. logicians tend towards interlingua, linguists towards syntactic transfer)   objectively choosing how to approach the task is trickysome criteria   do we want to design a system for a single language or for many languages?   can we assume a constrained vocabulary or do we need to deal with any text?   what resources already exist for the languages that we're dealing with?   how long will it take us to develop the resources, and how large a staff will we need?advantages of smt   data driven   language independent   no need for staff of linguists of language experts   can prototype a new system quickly and at a very low costchoosing smt   economic reasons:   - low cost; rapid prototyping   practical reasons:   - many language pairs don't have nlp     resources, but do have parallel corpora   quality reasons:   - uses chunks of human translated as its     building blocks   - when very large data sets are available      produces state of the art resultsoverview of smtprobabilities   find most probable english sentence given a foreign language sentencep(e|f)  e=argmaxep(e|f)p(e|f)=p(e)p(f|e)p(f)  e=argmaxep(e)p(f|e)what the probabilities represent   p(e) is the "language model"   - assigns a higher id203 to    uent /     grammatical sentences   - estimated using monolingual corpora   p(f|e) is the "translation model"   - assigns higher id203 to sentences     that have corresponding meaning   - estimated using bilingual corporafor people who don't like equationse* = argmax p(e|f)    esource language texttarget language textpreprocessingpreprocessingglobal searchp(e)p(f|e)language modeltranslation modellanguage model   component that tries to ensure that words come in the right order   some notion of grammaticality   standardly calculated with a trigram language model, as in id103    could be calculated with a statistical grammar such as a pid18 trigram language model   p(i like bungee jumping off high bridges) = p(i | <s> <s>) *p(like | i <s>) *p(bungee | i like) *p(jumping | like bungee) *p(off | bungee jumping) *p(high | jumping off) *p(bridges | off high) *p(</s> | high bridges) *p(</s> | bridges </s>)calculating language model probabilities   unigram probabilitiesp(w1)=count(w1)totalwordsobservedcalculating language model probabilities   bigram probabilitiesp(w2|w1)=count(w1w2)count(w1)calculating language model probabilities   trigram probabilitiesp(w3|w1w2)=count(w1w2w3)count(w1w2)calculating language model probabilities   can take this to increasingly long sequences of id165s   as we get longer sequences it's less likely that we'll have ever observed thembacking off   sparse counts are a big problem   if we haven't observed a sequence of words then the count = 0   because we're multiplying the id165 probabilities to get the id203 of a sentence the whole id203 = 0backing off      avoids zero probs.8   p(w3|w1w2)+.15   p(w3|w2)+.001.049   p(w3)+translation model   p(f|e)... the id203 of some foreign language string given a hypothesis english translation   f = ces gens ont grandi, v  cu et oeuvr   des dizaines d'ann  es dans le domaine agricole.    e = those people have grown up, lived and worked many years in a farming district.   e = i like bungee jumping off high bridges.translation model   how do we assign values to p(f|e)?      impossible because sentences are novel, so we'd never have enough data to    nd values for all sentences.  p(f|e)=count(f,e)count(e)translation model   decompose the sentences into smaller chunks, like in id38      introduce another vairable a that represents alignments between the individual words in the sentence pairp(f|e)=!ap(a,f|e)thosepeoplehavecesgensontgrandi,grownup,livedandv  cuetworkedmanyyearsinafarmingdistrict.oeuvr  desdizainesd'ann  esdansledomaineagricole.word alignmentalignment probabilities   so we can calculate translation probabilities by way of these alignment probabilities   now we need to de   ne p(a, f | e)p(f|e)=!ap(a,f|e)p(a,f|e)=m!j=1t(fj|ei)calculating  t(fj|ei)   counting!  i told you probabilities were easy!      worked... fonctionn  , travaill  , march  , oeuvr      100 times total 13 with this f.  13%oeuvr  thosepeoplehavecesgensontgrandi,grownup,livedandv  cuetworkedmanyyearsinafarmingdistrict.desdizainesd'ann  esdansledomaineagricole.=count(fj,ei)count(ei)calculating  t(fj|ei)    unfortunately we don't have word aligned data, so we can't do this directly.   ok, so it's not quite as easy as i said.   philipp will talk about how to do word alignments using em on wednesday. phrase translation probabilities unterkontrolleundercontrolwhatismoreim  brigenistdiediesbez  glichetherelativecostdynamiciskostenentwicklungv  lligcompletelyphrase translation probabilities unterkontrolleweoweitwirsindesdensteuerzahlerntothetaxpayerstokeepschuldigdiethecostsinkostencheckzuhabenphrase table   exhaustive table of source language phrases paired with their possible translations into the target language, along with probabilitiesdas thema the issue.51the point.38the subject.21``diagram number 1''e* = argmax p(e|f)    esource language texttarget language textpreprocessingpreprocessingglobal searchp(e)p(f|e)language modeltranslation modelthe search processaka ``decoding''   look up all translations of every source phrase, using the phrase table   recombine the target language phrases that maximizes the translation model id203 * the language model id203   this search over all possible combinations can get very large so we need to    nd ways of limiting the search spacelooking up translations of source!"#"$%&#   "()*+,-./0&#123%&#   /4#1)5#!%&.06#   7890:;.<0=>+2#?.visit after (1)ten days (0.7222)10 days (0.2778)from visiting (0.8333)from seeing (0.0667)undertaken (0.273)carried out by (0.1546)made by (0.0987)conducted by (.07)foreign minister (0.8796)egyptian ahmad (1)comes (0.3636)coincides (0.1364)is (0.1364)visit (0.7285)his (0.1454)after (0.45)post (0.1096)yet (0.0829)ten (0.6391)10 (0.2561)days (0.7595)day (0.1393)of (0.642)from (0.3076)visit (0.7583) visits (0.0554), (0.238)has (0.0686)by (0.0657)by (0.3873)undertaken (0.0901)minister (0.8273)foreign (0.5241)external (0.3355)egyptian (0.7153)egypt (0.0945)ahmad (0.5823)ahmed (0.3844)maher (0.5387)mahir (0.2232)after ten (0.75)detonated (0.25)days of (1)visit (0.7143)his visit (0.1429)visit had (0.0714)visit undertaken (0.0714)egyptian foreign (1)ahmad maher (0.4286)ahmed maher (0.4286)ahmad mahir (0.1429)ten days after (1)visit (0.958)egyptian foreign minister (1)egyptian foreign minister ahmad maher (1)the search spacee:           f: --------------prob = 1.0e: ten days after          f: --+++---------prob = 0.00321e: coincides          f: +-------------prob = .0005689e: comesf: +-------------prob = .0004596e: his visitf: -+------------prob = .009183e: comesf: ++------------prob = .000123e: coincidesf: ++------------prob = .0000523e: ten days after          f: +++++---------prob = 0.0000567the search space   in the end the item which covers all of the source words and which has the highest id203 wins!   that's our best translation   and there was much rejoicing!   e=argmaxep(e)p(f|e)wrap-up: smt is data driven   learns translations of words and phrases from parallel corpora   associate probabilities with translations empirically by counting co-occurrences in the data   estimates of probabilities get more accurate as size of the data increaseswrap-up: smt is language independent   can be applied to any language pairs that we have a parallel corpus for   the only linguistic thing that we need to know is how to split into sentences, words   don't need linguists and language experts to hand craft rules because it's all derived from the datawrap-up: smt is cheap and quick to produce   low overhead since we aren't employing anyone   computers do all the heavy lifting / statistical analysis of the data for us   can build a system in around 2 weeksexample translationsspanish --> english   sabemos muy bien que los tratados actuales no bastan y que, en el futuro, ser   necesario desarrollar una estructura mejor y diferente para la uni  n europea, una estructura m  s constitucional que tambi  n deje bien claras cu  les son las competencias de los estados miembros y cu  les pertenecen a la uni  n.   we all know very well that the current treaties are insuf   cient and that, in the future, it will be necessary to develop a better structure and different for the european union, a structure more constitutional also make it clear what the competences of the member states and which belong to the union. german --> english   uns ist sehr wohl bewusst, dass die geltenden vertr  ge unzul  nglich sind und k  nftig eine andere, ef   zientere struktur f  r die union entwickelt werden muss, n  mlich eine st  rker konstitutionell ausgepr  gte struktur mit einer klaren abgrenzung zwischen den befugnissen der mitgliedstaaten und den kompetenzen der union.   we are well aware that the existing treaties are inadequate and in the future, a different, more ef   cient structure for the union must be developed, namely a more pronounced institutional structure with a clear dividing line between the powers of the member states and the competences of the union. danish --> english   vi ved udm  rket, at de nuv  rende traktater ikke er tilstr  kkelige, og at det i fremtiden er n  dvendigt at udvikle en anden og bedre struktur for unionen, en mere konstitutionel struktur, som ogs   tydeligt viser, hvilke bef  jelser medlemsstaterne har, og hvilke bef  jelser unionen har.   we know perfectly well that the current treaties are not suf   cient, and that in the future it is necessary to develop a second and better structure for the union, a more constitutional structure, which clearly shows the powers of the member states, and what powers the union.french --> english   nous savons tr  s bien que les trait  s actuels ne suf   sent pas et qu'il sera n  cessaire    l'avenir de d  velopper une structure plus ef   cace et diff  rente pour l'union, une structure plus constitutionnelle qui indique clairement quelles sont les comp  tences des   tats membres et quelles sont les comp  tences de l'union.   we know very well that the current treaties are not enough and that it will be necessary in future to develop a structure more effective and different for the union, a more constitutional structure which makes it clear what are the competence of member states and what are the powers of the union. spanish --> english (2)   mensajes de preocupaci  n en primer lugar ante las di   cultades econ  micas y sociales por las que atravesamos, y ello a pesar de un crecimiento sostenido, fruto de a  os de esfuerzo por parte de todos nuestros conciudadanos.   messages of concern in the    rst place just before the economic and social problems for the present situation, and in spite of sustained growth, as a result of years of effort on the part of our citizens. german --> english (2)   dabei handelt es sich zun  chst um botschaften der beunruhigung angesichts der wirtschaftlichen und sozialen schwierigkeiten, mit denen wir trotz eines anhaltenden wachstums als ergebnis jahrelanger anstrengungen von seiten aller unserer mitb  rger konfrontiert sind.   it is,    rst of all, embassies of the concern about the economic and social problems, with which we, despite the continuing growth as a result of many years of effort from all of our fellow citizens are confronted. danish --> english (2)   vi m   videregive et budskab om bekymring set i lyset af de   konomiske og sociale problemer, vi aktuelt oplever, uanset at der meldes om stabil   konomisk v  kst, hvilket m   ses som resultatet af den indsats, der de seneste   r er ydet af eu's borgere.   we must convey a message of concern in the light of the economic and social problems, we topical experiencing, regardless of the fact that there are reported on stable economic growth, which must be seen as the result of the efforts that the last few years done by the eu's citizens. french --> english (2)   messages d'inqui  tude tout d'abord devant les dif   cult  s   conomiques et sociales que nous traversons, et ce malgr   une croissance soutenue, fruit d'ann  es d'efforts de la part de tous nos concitoyens.   messages of concern    rstly to the economic and social problems that we are going through, despite sustained growth as a result of years of effort on the part of all our citizens. english references   we know all too well that the present treaties are inadequate and that the union will need a better and different structure in future, a more constitutional structure which clearly distinguishes the powers of the member states and those of the union.   these are,    rst and foremost, messages of concern at the economic and social problems that we are experiencing, in spite of a period of sustained growth id30 from years of efforts by all our fellow citizens.useful resourcesmaterials needed to build an smt system   parallel corpus   word alignment software   id38 toolkit   decoderparallel corpora   the linguistics data consortium sells many parallel corpora including  - un data   - canadian hansards   - hong kong laws parallel text  - parallel newswires   http://www.ldc.upenn.edu/parallel corpora   philipp has the "europarl corpus"  - danish, dutch, english, finnish, french,    german, greek, italian, portuguese,     spanish, swedish    http://www.iccs.informatics.ed.ac.uk/~pkoehn/publications/europarl/word alignment software   giza++ (open source implementation of the "ibm models")   http://www.fjoch.com/giza++.html   reference word alignments   - manually created "gold standard"   - useful for testing the quality of       automatically generated alignments   - see acl-05 / naacl-03 workshopsid38 toolkit   srilm   - developed for id103   - used in smt too   - estimates id165 probabilities   - handles back-off in sophisticated ways   http://www.speech.sri.com/projects/srilm/decoder   pharaoh   - phrase-based smt decoder   - builds phrase tables from giza++ word      alignments   - produces best translation for new input      using phrase table plus srilm language"     model   http://www.isi.edu/licensed-sw/pharaoh/tomorrow   decoding in depth    including: how to use pharaoh!