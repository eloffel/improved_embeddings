computer aided translation

advances and challenges

philipp koehn

30 october 2015

philipp koehn

computer aided translation

30 october 2015

overview

1

    a practical introduction: the casmacat workbench

    postediting

    types of assistance

    logging, eye tracking and user studies

    implementation details of the casmacat workbench

:

philipp koehn

computer aided translation

30 october 2015

2

part i

casmacat workbench

philipp koehn

computer aided translation

30 october 2015

3

casmacat workbench

philipp koehn

computer aided translation

30 october 2015

casmacat project 2011-2014

4

    cognitive studies of translators leading to insights into interface design

    better understanding of translator needs

    workbench with novel types of assistance to human translators

    interactive translation prediction
    interactive editing and reviewing
    adaptive translation models

    better tools for translators

    demonstration of effectiveness in    eld tests with professional translators

    increased translator productivity

philipp koehn

computer aided translation

30 october 2015

architecture

5

philipp koehn

computer aided translation

30 october 2015

core modes

6

philipp koehn

computer aided translation

30 october 2015

postediting modes

7

philipp koehn

computer aided translation

30 october 2015

gui features

8

philipp koehn

computer aided translation

30 october 2015

postediting interface

9

    source on left, translation on right
    context above and below

philipp koehn

computer aided translation

30 october 2015

incremental updating

10

philipp koehn

computer aided translation

30 october 2015

machine translationincremental updating

11

philipp koehn

computer aided translation

30 october 2015

machine translationposteditingincremental updating

12

philipp koehn

computer aided translation

30 october 2015

machine translationposteditingretrainingword alignment

13

    caret alignment (green)
    mouse alignment (yellow)

philipp koehn

computer aided translation

30 october 2015

con   dence measures

14

    sentence-level con   dence measures

    estimate usefulness of machine translation output

    word-level con   dence measures

    point posteditor to words that need to be changed

philipp koehn

computer aided translation

30 october 2015

interactive translation prediction

15

philipp koehn

computer aided translation

30 october 2015

bilingual concordancer

16

philipp koehn

computer aided translation

30 october 2015

translation option array

17

    visual aid: non-intrusive provision of cues to the translator
    clickable: click on target phrase     added to edit area
    automatic orientation

    most relevant is next word to be translated
    automatic centering on next word

philipp koehn

computer aided translation

30 october 2015

id141

18

philipp koehn

computer aided translation

30 october 2015

how do we know it works?

19

    intrinsic measures

    word level con   dence: user does not change words generated with certainty
    interactive prediction: user accepts suggestions

    user studies

    professional translators faster with post-editing
    ... but like interactive translation prediction better

    cognitive studies with eye tracking
    where is the translator looking at?
    what causes the translator to be slow?

philipp koehn

computer aided translation

30 october 2015

logging and eye tracking

20

philipp koehn

computer aided translation

30 october 2015

home edition

21

    running casmacat on your desktop or laptop
    installation

    installation software to run

virtual machines
(e.g., virtualbox)

    installation of linux

distribution
(e.g., ubuntu)

    installation script sets up
all the required software
and dependencies

philipp koehn

computer aided translation

30 october 2015

administration through web browser

22

philipp koehn

computer aided translation

30 october 2015

training mt engines

23

    train mt engine

on own or public data

philipp koehn

computer aided translation

30 october 2015

managing mt engines

24

    mt engines can be

    switched out
    downloaded
    uploaded
    shared

philipp koehn

computer aided translation

30 october 2015

cat settings

25

    with own mt engine, all casmacat modes are available

philipp koehn

computer aided translation

30 october 2015

26

part ii

cat methods

philipp koehn

computer aided translation

30 october 2015

27

post-editing

philipp koehn

computer aided translation

30 october 2015

productivity improvements

28

(source: autodesk)

philipp koehn

computer aided translation

30 october 2015

mt quality and productivity

29

    what is the relationship between mt quality and postediting speed
    one study (english   german, news translation, non-professionals)

system

online-b
uedin-syntax
uedin-phrase
uu

speed

sec./wrd. wrds./hr.

5.46
5.38
5.45
6.35

659
669
661
567

metric

id7 manual
20.7
19.4
20.1
16.1

0.637
0.614
0.571
0.361

philipp koehn

computer aided translation

30 october 2015

translator variability

30

    translator differ in
    ability to translate
    motivation to    x minor translation

    high variance in translation time

(again: non-professionals)

post-editor

1
2
3
4

speed

sec./wrd. wrds./hr.
1,188
753
368
713

3.03
4.78
9.79
5.05

philipp koehn

computer aided translation

30 october 2015

mt quality and postediting effort

31

    postediting effort = number of words changed
    evaluation metric at iwslt 2014

    ter = automatic metric, comparison against a reference translation
    hter = postediting metric, actual words changed

english   german

english   french

ranking
eu-bridge
uedin
kit
ntt-naist
kle

hter ter
54.6
19.2
19.9
56.3
54.9
20.9
21.3
54.7
59.7
28.8

ranking
eu-bridge
rwth
kit
uedin
mitll-afrl
fbk
miracl

hter ter
42.6
16.5
16.6
41.8
42.3
17.6
17.2
43.3
43.5
18.7
22.3
44.3
52.2
32.9

philipp koehn

computer aided translation

30 october 2015

translator variability

32

    professional translators

english   german

english   french

posteditor hter ter
pe 1
56.1
56.3
pe 2
pe 3
56.2
55.9
pe 4
pe 5
55.6

32.2
19.7
40.9
27.6
25.0

posteditor hter ter
pe 1
42.6
42.8
pe 2
pe 3
43.0
42.3
pe 4
pe 5
42.9

35.0
17.5
23.7
39.7
19.7

    also very high variability

philipp koehn

computer aided translation

30 october 2015

postediting and mt metrics

33

    goal of mt quality metrics not clear

    understandability: do you get the meaning?
    post-editing effort: how much effort to change?

    example: dropping of the word    not   

    understandability: big mistake
    post-editing effort: quick add of just one word

    not clear, what tradition manual metrics prefer (adequacy,    uency)
    not clear, what id7 score etc. prefer

philipp koehn

computer aided translation

30 october 2015

34

word alignment

philipp koehn

computer aided translation

30 october 2015

word alignment

35

    caret alignment (green)
    mouse alignment (yellow)

philipp koehn

computer aided translation

30 october 2015

word alignment from mt

36

    machine translation output is constructed by phrase mappings
    each phrase mapping has internal word alignment
    this can be used to visualize word alignments

    but: word alignment points become invalid after user edits

philipp koehn

computer aided translation

30 october 2015

word alignment from alignment tools

37

    during machine translation training, standard component is word alignment

    standard tools

    old workhorse: giza++
    currently popular tool: fast-align

    these tools have been adapted to align new sentence pairs

philipp koehn

computer aided translation

30 october 2015

mouse over alignment

38

    highlight the source word aligned to the word at the current mouse position

philipp koehn

computer aided translation

30 october 2015

caret alignment

39

    highlight the source word aligned to the word at the current caret position

philipp koehn

computer aided translation

30 october 2015

shade off translated

40

    use in interactive prediction mode
    shade off words that are already translated
    highlight words aligned to    rst predicted translation word

philipp koehn

computer aided translation

30 october 2015

41

con   dence measures

philipp koehn

computer aided translation

30 october 2015

levels

42

    machine translation engine indicates where it is likely wrong
    different levels of granularity

    document-level (sdl   s    trustscore   )
    sentence-level
    word-level

    what are we predicting?

    how useful is the translation     on a scale of (say) 1   5
    indication if post-editing is worthwhile
    estimation of post-editing effort
    pin-pointing errors

philipp koehn

computer aided translation

30 october 2015

sentence-level con   dence

43

    translators are used to    fuzzy match score   

    used in translation memory systems
    roughly: ratio of words that are the same between input and tm source
    if less than 70%, then not useful for post-editing

    we would like to have a similar score for machine translation
    even better

    estimation of post-editing time
    estimation of from-scratch translation time
    can also be used for pricing
    very active research area

philipp koehn

computer aided translation

30 october 2015

quality estimation shared task

44

    shared task organized at wmt since 2012
    given

    source sentence
    machine translation

    predict

    human judgement of usefulness for post-editing (2012, 2014)
    hter score on post-edited sentences (2013, 2014, 2015)
    post-editing time (2013, 2014)

    also task for word-level quality estimation (2014, 2015)

and document-level quality estimation (2015)

philipp koehn

computer aided translation

30 october 2015

quest

45

    open source tool for quality estimation
    source sentence features

    number of tokens
    language model (lm) id203
    1   3-grams observed in training corpus
    average number of translations per word

    similar target sentence features
    alignment features

    difference in number of tokens and characters
    ratio of numbers, punctuation, nouns, verbs, named entities
    syntactic similarity (pos tags, constituents, dependency relationships)

    scores and properties of the machine translation derivation
    uses python   s scikit-learn implementation of id166 regression

philipp koehn

computer aided translation

30 october 2015

46

word level con   dence

philipp koehn

computer aided translation

30 october 2015

visualization

47

    highlight words less likely to be correct

philipp koehn

computer aided translation

30 october 2015

methods

48

    simple methods quite effective

    ibm model 1 scores

    posterior id203 of the mt model

    machine learning approach

    similar features as for sentence-level quality estimation

philipp koehn

computer aided translation

30 october 2015

annotation

49

    machine translation output

quick brown fox jumps on the dog lazy.

    post-editing

    annotation

the quick brown fox jumps over the lazy dog.

fast
bad

brown
good

fox
good

jumps
good

the

on
bad good good good good

lazy

dog

.

    problems: dropped words? reordering?

philipp koehn

computer aided translation

30 october 2015

quality requirements

50

    evaluated in user study

    feedback

    could be useful feature
    but accuracy not high enough

    to be truly useful, accuracy has to be very high

    current methods cannot deliver this

philipp koehn

computer aided translation

30 october 2015

51

automatic reviewing

philipp koehn

computer aided translation

30 october 2015

automatic reviewing

52

    can we identify errors in human translations?

    missing / added information
    inconsistent use of terminology

input sentence

er hat seit monaten geplant,

im oktober einen vortrag in miami zu halten.

human translation

moreover, he planned for months to give a lecture in miami.

philipp koehn

computer aided translation

30 october 2015

reviewing with e-pen

53

    intuition

    reviewing more ef   cient with pen and paper
    e-pen enables this work process in digital environment

    work carried out

    fronted modi   ed for larger drawing area
    backend support for hand-written text recognition (htr)
    development of methods for htr

    field trial carried out     corpus of reviewing edits

philipp koehn

computer aided translation

30 october 2015

analysis of reviewer edits

54

    171 insertions     vast majority function words
    152 deletions     about half substantial content
    621 replacements     of which:

    75 changes to punctuation only
    28 change to lowercase / uppercase
    29 cases that are mostly deletions
    8 cases that are mostly insertions
    289 morphological/spelling changes (levenshtein distance of less than 50%)
    190 other changes, about equal amounts function words and content words

philipp koehn

computer aided translation

30 october 2015

automatic reviewing

55

    focus on translation errors
    not: basic spell checking
    not: basic grammar checking

    do not try the impossible

    semantic errors
    errors in function words

    what is left?

    added content (insertions)
    non-translated content (deletions)
    inconsistency in terminology

philipp koehn

computer aided translation

30 october 2015

method

56

    word alignment of human translation and source
    detect unaligned words

    insertion of content words:

unaligned sequence of words in the draft translation

    deletion of content words:

unaligned sequence of words in the source sentence

    inconsistent terminology:

source word occurs multiple times, aligned to different word

    only content words (minimum 4 characters)

philipp koehn

computer aided translation

30 october 2015

evaluation on field trial data

57

    two id74

    strict: predicted word x deleted / inserted
    generous: predicted any deletion / insertion

strict scoring

generous scoring

edit type precision recall precision recall baseline precision
deletion
insertion
any edit

11%
5%
20%

48%
35%
60%

7%
4%
14%

7%
-
-

27%

-
-

    good enough to be useful?

philipp koehn

computer aided translation

30 october 2015

subjective evaluation

58

    evaluation on community translation platform data
    english   german
    predict insertions and deletions
    manually check if these are valid suggestions (i.e., precision only)

by native german speaker

philipp koehn

computer aided translation

30 october 2015

results

59

    4 cases of detection of valid errors (3 deletions, 1 inset ion)
    31 false alarms

type

count
16 cases unaligned verb
6 cases
2 cases
6 cases misalignment, often due to unknown word
1 case

one-to-many alignment
non-literal

valid verb ellipsis, repeated in sub clause

    good enough to be useful?

philipp koehn

computer aided translation

30 october 2015

60

interactive translation prediction

philipp koehn

computer aided translation

30 october 2015

interactive translation prediction

61

input sentence

er hat seit monaten geplant, im oktober einen vortrag in miami zu halten.

professional translator
|

philipp koehn

computer aided translation

30 october 2015

interactive translation prediction

62

input sentence

er hat seit monaten geplant, im oktober einen vortrag in miami zu halten.

professional translator
| he

philipp koehn

computer aided translation

30 october 2015

interactive translation prediction

63

input sentence

er hat seit monaten geplant, im oktober einen vortrag in miami zu halten.

professional translator
he | has

philipp koehn

computer aided translation

30 october 2015

interactive translation prediction

64

input sentence

er hat seit monaten geplant, im oktober einen vortrag in miami zu halten.

professional translator
he has |

for months

philipp koehn

computer aided translation

30 october 2015

interactive translation prediction

65

input sentence

er hat seit monaten geplant, im oktober einen vortrag in miami zu halten.

professional translator
he planned |

philipp koehn

computer aided translation

30 october 2015

interactive translation prediction

66

input sentence

er hat seit monaten geplant, im oktober einen vortrag in miami zu halten.

professional translator
he planned |

for months

philipp koehn

computer aided translation

30 october 2015

visualization

67

    show n next words

    show rest of sentence

philipp koehn

computer aided translation

30 october 2015

spence green   s lilt system

68

    show alternate translation predictions

    show alternate translations predictions with probabilities

philipp koehn

computer aided translation

30 october 2015

prediction from search graph

69

search for best translation creates a graph of possible translations

philipp koehn

computer aided translation

30 october 2015

heithasplannedhasforsinceformonthsmonthsmonthsprediction from search graph

70

one path in the graph is the best (according to the model)

this path is suggested to the user

philipp koehn

computer aided translation

30 october 2015

heithasplannedhasforsinceformonthsmonthsmonthsprediction from search graph

71

the user may enter a different translation for the    rst words

we have to    nd it in the graph

philipp koehn

computer aided translation

30 october 2015

heithasplannedhasforsinceformonthsmonthsmonthsprediction from search graph

72

we can predict the optimal completion (according to the model)

philipp koehn

computer aided translation

30 october 2015

heithasplannedhasforsinceformonthsmonthsmonthsspeed of algorithm

73

time

80ms

72ms

64ms

56ms

48ms

40ms

32ms

24ms

16ms

8ms

0ms

7 edits
8 edits

6 edits
5 edits
4 edits

3 edits

2 edits

1 edit

0 edits
pre   x

40

5

10

15

20

25

30

35

    average response time based on length of the pre   x and number of edits
    main bottleneck is the string id153 between pre   x and path.

philipp koehn

computer aided translation

30 october 2015

re   nements

74

    matching last word

    more important to match last word in path
    re   nement of best path: search for last word

    case-insensitive matching
    approximate word matching

    lower substitution cost for words that differ by a few letters
    implemented at letter id153     10%

    stemmed matching

    allow for difference in word endings (last 3 letters)
    assumed to be morphological variation

philipp koehn

computer aided translation

30 october 2015

word completion

75

    complete word once few letters are typed
    example: predict college over university?
    user types the letter u     change prediction

       desperate    word completion:    nd any word that matches

philipp koehn

computer aided translation

30 october 2015

some results

76

    news translation produced by post-editing mt output
    same mt system used for simulated interactive translation prediction

# method
1
baseline
2
1 + matching last word
3
2 + case insensitive matching
2 + approximate word matching
4
5
2 + stemmed matching
4 +    desperate    word completion
6

word acc.

letter acc.

56.0%
59.0%
58.7%
60.5%
59.4%
60.5%

75.2%
80.6%
80.4%
80.6%
80.5%
84.5%

    details see koehn [acl, 2014]

philipp koehn

computer aided translation

30 october 2015

open challenges

77

    better metric than string id153 to account for moves

    retranslation or search graph matching?

    interactive translation prediction for syntax-based models
    syntax-based models work better for german, chinese
    search lattice     search forest
    some preliminary work...

    are id4 models better at this?

    lots of interesting work in this area to be done

philipp koehn

computer aided translation

30 october 2015

78

bilingual concordancer

philipp koehn

computer aided translation

30 october 2015

bilingual concordancer

79

philipp koehn

computer aided translation

30 october 2015

how does it work?

80

    have word-aligned parallel corpus

    ef   cient data structure to quickly look up queried phrases

(suf   x arrays, we   ll come back to them later)

    translation spotting

    look up queried phrase
    use word alignment to identify target phrase
    some edge cases (unaligned words at beginning/end)

philipp koehn

computer aided translation

30 october 2015

81

philipp koehn

computer aided translation

30 october 2015

veri   cation of terminology

82

    translation of german windkraft

    context shows when each translation is used
    indication of source supports trust in translations

philipp koehn

computer aided translation

30 october 2015

83

philipp koehn

computer aided translation

30 october 2015

transsearch: improved transpotting

84

    used to solve di   cult translation problems

    7.2 million queries submitted to the system over a 6-year period
    87% contain at least two words
    mainly search for idiomatic expressions such as in keeping with
    improved translation spotting [bourdaillet et al., mt journal 2011]
    filtering with classi   er (45 features, trained on annotated data)

    relative word count
    word alignment scores
    ratio of function words

    merging of translations that only differ in function words, morphology
    pseudo-relevance feedback

philipp koehn

computer aided translation

30 october 2015

85

translation options

philipp koehn

computer aided translation

30 october 2015

translation option array

86

    visual aid: non-intrusive provision of cues to the translator
    trigger passive vocabulary

philipp koehn

computer aided translation

30 october 2015

visualization

87

    show up to 6 options per word or phrase
    rank best option on top
    use color highlighting to show likelihood

(grey = less likely to be useful)

    clickable: click on target phrase     added to edit area
    automatic orientation

    most relevant is next word to be translated
    automatic centering on next word

philipp koehn

computer aided translation

30 october 2015

how to rank

88

    basic idea: best options on top
    problem: how to rank word translation vs. phrase translations?

    method: utilize future cost estimates
    translation score

    sum of translation model costs
    language model estimate
    outside future cost estimate

philipp koehn

computer aided translation

30 october 2015

the    rst timedas erste maltm:-0.56,lm:-2.81d:-0.74. all:-4.11 -9.3-4.11-13.41-9.3+=improving rankings

89

    removal of duplicates and near duplicates

bad

good

    ranking by likelihood to be used in the translation

    can this be learned from user feedback?

philipp koehn

computer aided translation

30 october 2015

enabling monolingual translators

90

    monolingual translator

    wants to understand a foreign document
    has no knowledge of foreign language
    uses a machine translation system

    questions

    is current mt output suf   cient for understanding?
    what else could be provided by a mt system?

philipp koehn

computer aided translation

30 october 2015

example

91

    mt system output:

the study also found that one of the genes in the improvement in people with
prostate cancer risk, it also reduces the risk of suffering from diabetes.

    what does this mean?

    monolingual translator:

the research also found that one of the genes increased people   s risk of prostate
cancer, but at the same time lowered people   s risk of diabetes.

    document context helps

philipp koehn

computer aided translation

30 october 2015

example: arabic

92

up to 10 translations for each word / phrase

philipp koehn

computer aided translation

30 october 2015

example: arabic

93

philipp koehn

computer aided translation

30 october 2015

monolingual translation with options

94

no big difference     once signi   cantly better

philipp koehn

computer aided translation

30 october 2015

chinese politicschinese weatherchinese sciencechinese sportsarabic terrorarabic diplomacyarabic politicsarabic politics01020304050607080bilingualmono post-editmono optionsmonolingual translation triage

95

    study on russian   english (schwartz, 2014)

    allow monolingual translators to assess their translation

    con   dent     accept the translation
    verify     proofread by bilingual
    partially unsure     part of translation handled by bilingual
    completely unsure     handled by bilingual

    monolingual translator highly effective in triage

philipp koehn

computer aided translation

30 october 2015

monolingual translation: conclusions

96

    main    ndings

    monolingual translators may be as good as bilinguals
    widely different performance by translator / story
    named entity translation critically important

    various human factors important

    domain knowledge
    language skills
    effort

philipp koehn

computer aided translation

30 october 2015

97

id141

philipp koehn

computer aided translation

30 october 2015

id141

98

input sentence

er hat seit monaten geplant, im oktober einen vortrag in miami zu halten.

professional translator

he planned for months to give a lecture in miami in october.

give a presentation
present his work

give a speech

speak

user requests alternative translations for parts of sentence.

philipp koehn

computer aided translation

30 october 2015

visualization in casmacat

99

    user marks part of translation
    clicks on id141 button
    alternative translations appear

philipp koehn

computer aided translation

30 october 2015

id141 research

100

    somewhat popular research area
    popular method: extract from parallel data

    goal:    nd paraphrases

for phrase e

    look up likely translations

i1, e(cid:48)

f1, f2, ... for e
    for each fi, look up
likely translations e(cid:48)
i2, ...
    these are the paraphrases
    re   nement: collect over several foreign languages, intersect
    paraphrase database for several languages:

http://paraphrase.org/

philipp koehn

computer aided translation

30 october 2015

id141 in context

101

    our problem: id141 in context

    driven by source
    considers sentence context
    ranking and diversity important
    real time performance

    approach

    target span is mapped to source span
    search graph is consulted for alternative translations for source span
    additional translations generated by combining translation options
    initial list of translations
    various components to distill n-best paraphrases

philipp koehn

computer aided translation

30 october 2015

components

102

    filtering: remove some translations

    with extraneous punctuation
    too similar to others
    additional function words
    scoring: score translations
    translation model scores
    language model score in context
    compare alternate translations against best path

    sorting: rank list

    cluster translations by similarity
    picks best translation from each cluster

philipp koehn

computer aided translation

30 october 2015

automatic evaluation

103

    motivation

    alternative translations should    x translation errors
    create bad translations by back-translation

    process

    train machine translation system for both directions
    translate test set target     source     target*
    spot differences between target and target*
    use span in target* as    marked by user   , span in target as correct

philipp koehn

computer aided translation

30 october 2015

example

104

unlike in canada , the american states
are responsible for the organisation of federal

elections.

    translate

    into

    back into english

unlike in canada , us states

are responsible for the organization of

federal elections.

philipp koehn

computer aided translation

30 october 2015

manual evaluation

105

    web based interactive evaluation tool
    same setup as automatic evaluation

    shows target span
    5 selectable paraphrases
    user accepts one     correct

    four users (u1   u4)
    number of instances where one translation is correct

method u1 u2 u3 u4
6
10
29

1
7
10

8
15
24

6
17
20

9
12
26

average score

6/50
13/50
26/50

philipp koehn

computer aided translation

30 october 2015

106

adaptation

philipp koehn

computer aided translation

30 october 2015

adaptation

107

    machine translation works best if optimized for domain
    typically, large amounts of out-of-domain data available

    european parliament, united nations
    unspeci   ed data crawled from the web
    little in-domain data (maybe 1% of total)

    information technology data
    more speci   c: ibm   s user manuals
    even more speci   c: ibm   s user manual for same product line from last year
    and even more speci   c: sentence pairs from current project
    various id20 techniques researched and used

philipp koehn

computer aided translation

30 october 2015

combining data

108

    too biased towards out of domain data
    may    ag translation options with indicator feature functions

philipp koehn

computer aided translation

30 october 2015

combineddomainmodelinterpolate models

109

    pc(e| f ) =   inpin(e| f ) +   outpout(e| f )
    quite successful for language modelling

philipp koehn

computer aided translation

30 october 2015

indomainmodelout-ofdomainmodelmultiple models

110

    multiple models     multiple feature functions

philipp koehn

computer aided translation

30 october 2015

indomainmodelout-ofdomainmodeluse bothbackoff

111

philipp koehn

computer aided translation

30 october 2015

indomainmodelout-ofdomainmodellook up phraseif found, returnif not foundif found, returnfill-up

112

    use translation options from in-domain table
    fill up with additional options from out-of-domain table

philipp koehn

computer aided translation

30 october 2015

indomainmodelout-ofdomainmodeltranslations for phrase ftranslations for phrase ftranslations for phrase fcombineddomainmodelsentence selection

113

    select out-of-domain sentence pairs that are similar to in-domain data
    score similarity with language model, other means

philipp koehn

computer aided translation

30 october 2015

combineddomainmodelproject adaptation

114

    method developed by the matecat project
    update model during translation project
    after each day

    collected translated sentences
    add to model
    optimize

    main bene   t after the    rst day

philipp koehn

computer aided translation

30 october 2015

instant adaptation

115

philipp koehn

computer aided translation

30 october 2015

machine translationposteditingretrainingadaptable translation model

116

    store in memory
    parallel corpus
    word alignment

    adding new sentence pair

    word alignment of sentence pair
    add sentence pair
    update index (suf   x array)

    retrieve phrase translations on demand

philipp koehn

computer aided translation

30 october 2015

word alignment

117

    needed: word alignment method that scores a sentence pairs
    online em algorithm

    keep suf   cient statistics of corpus in memory
    run em iteration on single sentence pair
    update statistics
    return word alignment

    for ef   ciency reason, a static model may be suf   cient
    implementations in bith mgiza and fast-align

philipp koehn

computer aided translation

30 october 2015

suf   xes

118

philipp koehn

computer aided translation

30 october 2015

1     government of the people , by the people , for the people2     of the people , by the people , for the people3     the people , by the people , for the people4     people , by the people , for the people5     , by the people , for the people6     by the people , for the people7     the people , for the people8     people , for the people9     , for the people10   for the people12   people11   the peoplesorted suf   xes

119

philipp koehn

computer aided translation

30 october 2015

11   the people6     by the people , for the people10   for the people5     , by the people , for the people9     , for the people1     government of the people , by the people , for the people12   people8     people , for the people4     people , by the people , for the people2     of the people , by the people , for the people3     the people , by the people , for the people7     the people , for the peoplesuf   x array

120

philipp koehn

computer aided translation

30 october 2015

11   the people6     by the people , for the people10   for the people5     , by the people , for the people9     , for the people1     government of the people , by the people , for the people12   people8     people , for the people4     people , by the people , for the people2     of the people , by the people , for the people3     the people , by the people , for the people7     the people , for the peoplesuffix array: sorted index of corpus positions querying the suf   x array

121

query: people

philipp koehn

computer aided translation

30 october 2015

11                       the people6                         by the people , for the people10                       for the people5                         , by the people , for the people9                         , for the people1                         government of the people , by the people , for the people12                       people8                         people , for the people4                         people , by the people , for the people3                         the people , by the people , for the people7                         the people , for the people2                         of the people , by the people , for the peoplequerying the suf   x array

122

query: people

binary search: start in the middle

philipp koehn

computer aided translation

30 october 2015

11                       the people6                         by the people , for the people10                       for the people5                         , by the people , for the people9                         , for the people1                         government of the people , by the people , for the people12                       people8                         people , for the people4                         people , by the people , for the people2                         of the people , by the people , for the people3                         the people , by the people , for the people7                         the people , for the peoplequerying the suf   x array

123

query: people

binary search: discard upper half

philipp koehn

computer aided translation

30 october 2015

11                       the people6                         by the people , for the people10                       for the people5                         , by the people , for the people9                         , for the people1                         government of the people , by the people , for the people12                       people8                         people , for the people4                         people , by the people , for the people2                         of the people , by the people , for the people3                         the people , by the people , for the people7                         the people , for the peoplequerying the suf   x array

124

query: people

binary search: middle of remaining space

philipp koehn

computer aided translation

30 october 2015

11                       the people6                         by the people , for the people10                       for the people5                         , by the people , for the people9                         , for the people1                         government of the people , by the people , for the people12                       people8                         people , for the people4                         people , by the people , for the people2                         of the people , by the people , for the people3                         the people , by the people , for the people7                         the people , for the peoplequerying the suf   x array

125

query: people

binary search: match

philipp koehn

computer aided translation

30 october 2015

11                       the people6                         by the people , for the people10                       for the people5                         , by the people , for the people9                         , for the people1                         government of the people , by the people , for the people12                       people8                         people , for the people4                         people , by the people , for the people2                         of the people , by the people , for the people3                         the people , by the people , for the people7                         the people , for the peoplequerying the suf   x array

126

finding matching range with additional binary searches for start and end

query: people

philipp koehn

computer aided translation

30 october 2015

11                       the people6                         by the people , for the people10                       for the people5                         , by the people , for the people9                         , for the people1                         government of the people , by the people , for the people12                       people8                         people , for the people4                         people , by the people , for the people2                         of the people , by the people , for the people3                         the people , by the people , for the people7                         the people , for the peoplebias towards user translation

127

    cache-based models

    language model
    give bonus to id165s in previous user translation

    translation model
    give bonus to translation options in previous user translation

    decaying score for bonus (less recent, less relevant)

philipp koehn

computer aided translation

30 october 2015

128

integration of translation memories

philipp koehn

computer aided translation

30 october 2015

progress in translation automation

129

    translation memory (tm)

    translators store past translation in database
    when translating new text, consult database for similar segments
    fuzzy match score de   nes similarity

widely used by translation agencies

    id151 (smt)

    collect large quantities of translated text
    extract automatically probabilistic translation rules
    when translating new text,    nd most probable translation given rules

wide use of free web-based services

not yet used by many translation agencies

philipp koehn

computer aided translation

30 october 2015

tm

vs.

smt

130

used by

human translator

used by

target language information seeker

restricted domain

(e.g. product manual)

open domain translation

(e.g. news)

very repetitive content

huge diversity (esp. web)

corpus size:

1 million words

corpus size:

100-1000 million words

commercial developers

(e.g., sdl trados)

academic/commercial research

(e.g., google)

philipp koehn

computer aided translation

30 october 2015

main idea

131

    input

the second paragraph of article 21 is deleted .

    fuzzy match in translation memory

the second paragraph of article 5 is deleted .

    part of the translation from tm fuzzy match

part of the translation with smt

the second paragraph of article

21

is deleted .

philipp koehn

computer aided translation

30 october 2015

example

132

    input sentence:

the second paragraph of article 21 is deleted .

philipp koehn

computer aided translation

30 october 2015

example

133

    input sentence:

the second paragraph of article 21 is deleted .

    fuzzy match in translation memory:

the second paragraph of article 5 is deleted .

=

`a l    article 5 , le texte du deuxi  eme alin  ea est supprim  e .

philipp koehn

computer aided translation

30 october 2015

example

134

    input sentence:

the second paragraph of article 21 is deleted .

    fuzzy match in translation memory:

the second paragraph of article 5 is deleted .

`a l    article 5 , le texte du deuxi  eme alin  ea est supprim  e .

=

    detect mismatch (string id153)

philipp koehn

computer aided translation

30 october 2015

example

135

    input sentence:

the second paragraph of article 21 is deleted .

    fuzzy match in translation memory:

the second paragraph of article 5 is deleted .

`a l    article 5 , le texte du deuxi  eme alin  ea est supprim  e .

=

    detect mismatch (string id153)
    align mismatch (using word alignment from giza++)

philipp koehn

computer aided translation

30 october 2015

example

136

    input sentence:

the second paragraph of article 21 is deleted .

    fuzzy match in translation memory:

the second paragraph of article 5 is deleted .

=

`a l    article

5

, le texte du deuxi  eme alin  ea est supprim  e .

output word(s) taken from the target tm

philipp koehn

computer aided translation

30 october 2015

example

137

    input sentence:

the second paragraph of article 21 is deleted .

    fuzzy match in translation memory:

the second paragraph of article 5 is deleted .

=

`a l    article

5

, le texte du deuxi  eme alin  ea est supprim  e .

output word(s) taken from the target tm

input word(s) that still need to be translated by smt

philipp koehn

computer aided translation

30 october 2015

example

138

    input sentence:

the second paragraph of article 21 is deleted .

    fuzzy match in translation memory:

the second paragraph of article 5 is deleted .

=

`a l    article

5

, le texte du deuxi  eme alin  ea est supprim  e .

    xml frame (input to moses)

<xml translation=" `a l    article "/> 21

<xml translation=" , le texte du deuxi  eme alin  ea est supprim  e . "/>

philipp koehn

computer aided translation

30 october 2015

example

139

    input sentence:

the second paragraph of article 21 is deleted .

    fuzzy match in translation memory:

the second paragraph of article 5 is deleted .

=

`a l    article

5

, le texte du deuxi  eme alin  ea est supprim  e .

    more compact formalism for the purposes of this presentation:

< `a l    article > 21 < , le texte du deuxi  eme alin  ea est supprim  e . >

philipp koehn

computer aided translation

30 october 2015

two solutions

140

    xml frames

< `a l    article> 21 <, le texte du deuxi  eme alin  ea est supprim  e .>

for input

the second paragraph of article 21 is deleted .

    very large hierarchical rule

( the second paragraph of article x is deleted .
; `a l    article x , le texte du deuxi  eme alin  ea est supprim  e . )

philipp koehn

computer aided translation

30 october 2015

result: acquis

141

philipp koehn

computer aided translation

30 october 2015

142

logging and eye tracking

philipp koehn

computer aided translation

30 october 2015

logging functions

143

    different types of events are saved in the logging.

    con   guration and statistics
    start and stop session
    segment opened and closed
    text, key strokes, and mouse events
    scroll and resize
    search and replace
    suggestions loaded and suggestion chosen
    interactive translation prediction
    gaze and    xation from eye tracker

philipp koehn

computer aided translation

30 october 2015

logging functions

144

    in every event we save:

    type
    in which element was produced
    time

    special attributes are kept for some types of events

    diff of a text change
    current cursor position
    character looked at
    clicked ui element
    selected text

    full replay of user session is possible

philipp koehn

computer aided translation

30 october 2015

keystroke log

145

input: au premier semestre, l   avionneur a livr  e 97 avions.
output: the manufacturer has delivered 97 planes during the    rst half.

(37.5 sec, 3.4 sec/word)

black: keystroke, purple: deletion, grey: cursor move

height: length of sentence

philipp koehn

computer aided translation

30 october 2015

example of quality judgments

146

src. sans se d  emonter, il s   est montr  e concis et pr  ecis.
mt without dismantle, it has been concise and accurate.
1/3 without fail, he has been concise and accurate.
4/0 without getting    ustered, he showed himself

(unassisted, l2b)

(prediction+options, l2a)
to be concise and precise.

4/0 without falling apart, he has shown himself to be concise and accurate. (postedit, l2c)
(options, l2d)
1/3 unswayable, he has shown himself to be concise and to the point.
(prediction, l2e)
0/4 without showing off, he showed himself to be concise and precise.
1/3 without dismantling himself, he presented himself consistent and precise.

(prediction+options, l1a)
(unassisted, l1b)
2/2 he showed himself concise and precise.
(postedit, l1c)
3/1 nothing daunted, he has been concise and accurate.
(options, l1d)
3/1 without losing face, he remained focused and speci   c.
3/1 without becoming    ustered, he showed himself concise and precise. (prediction, l1e)

philipp koehn

computer aided translation

30 october 2015

main measure: productivity

147

assistance
unassisted
postedit
options
prediction
prediction+options

speed
4.4s/word
2.7s (-1.7s)
3.7s (-0.7s)
3.2s (-1.2s)
3.3s (-1.1s)

quality
47% correct
55% (+8%)
51% (+4%)
54% (+7%)
53% (+6%)

philipp koehn

computer aided translation

30 october 2015

faster and better, mostly

148

postedit

options

prediction

prediction+options

-2.0s

-2.2s

1.2s
39% +16%)
4.5s
-3.2s)
48% +13%
1.9s
61% +11%
2.0s
-0.7s
46% +8%
3.9s
-1.3s
64% +6%
1.8s
-3.9s
50% +34%
(-0.4s)
2.8s
(-8%)
56%
2.9s
-3.0s
53% +1%
(-0.3s)
3.1s
(+0%)
49%
2.6s
-0.2s
79% +11%
2.7s
-1.7s
55% +8%

-3.3s

-1.0s

2.3s
45% +22%
4.5s
55% +20%
3.8s
-0.1s
54% +4%
(+0.1s)
2.9s
(+21%)
59%
4.9s
(-0.2s)
(-2%)
56%
2.5s
-3.2s
34% +18%
+0.3s
3.5s
-4%
60%
(-1.2s)
4.6s
(-15%)
37%
(+0.9s)
4.3s
(+2%)
51%
+0.7s
3.5s
-9%
59%
3.7s
-0.7s
51% +4%

-0.8s

-5.1s

-2.2s

1.1s
30% +7%)
2.7s
61% +26%
3.1s
64% +14%
(-0.4s)
2.4s
(-1%)
37%
3.5s
-1.7s
62% +4%
2.7s
-3.0s
40% +24%
+2.8s
6.0s
-3%
61%
4.1s
-1.7s
59% +7%
(+0.4s)
3.8s
(+4%)
53%
2.8s
(-0.0s)
(-4%)
64%
3.2s
-1.2s
54% +7%

-0.9s

2.4s
44% +21%
4.8s
-3.0s
41% +6%
2.5s
-1.4s
61% +11%
1.8s
-1.0s
45% +7%
4.6s
(-0.5s)
(-2%)
56%
2.8s
-2.9s
50% +34%
+1.4s
4.6s
-7%
57%
2.7s
-3.1s
53% +1%
(+0.3s)
3.7s
(+9%)
58%
3.0s
+0.2s
-2%
66%
3.3s
-1.1s
53% +6%

user
l1a

l1b

l1c

l1d

l1e

l2a

l2b

l2c

l2d

l2e

avg.

unassisted
3.3sec/word
23% correct
7.7sec/word
35% correct
3.9sec/word
50% correct
2.8sec/word
38% correct
5.2sec/word
58% correct
5.7sec/word
16% correct
3.2sec/word
64% correct
5.8sec/word
52% correct
3.4sec/word
49% correct
2.8sec/word
68% correct
4.4sec/word
47% correct

philipp koehn

computer aided translation

30 october 2015

unassisted novice translators

149

l1 = native french, l2 = native english, average time per input word

only typing

philipp koehn

computer aided translation

30 october 2015

unassisted novice translators

150

l1 = native french, l2 = native english, average time per input word

typing, initial and    nal pauses

philipp koehn

computer aided translation

30 october 2015

unassisted novice translators

151

l1 = native french, l2 = native english, average time per input word

typing, initial and    nal pauses, short, medium, and long pauses

most time di   erence on intermediate pauses

philipp koehn

computer aided translation

30 october 2015

activities: native french user l1b

152

user: l1b
unassisted
postedit
options
prediction
prediction+options

total
7.7s
4.5s
4.5s
2.7s
4.8s

init-p
1.3s
1.5s
0.6s
0.3s
0.6s

end-p
0.1s
0.4s
0.1s
0.3s
0.4s

short-p mid-p
1.8s
1.0s
0.9s
0.7s
1.3s

0.3s
0.1s
0.4s
0.2s
0.4s

big-p
1.9s
0.4s
0.7s
0.1s
0.5s

key
2.3s
1.1s
1.5s
0.6s
0.9s

click

-
-

0.4s

-

0.5s

tab
-
-
-

0.4s
0.2s

philipp koehn

computer aided translation

30 october 2015

activities: native french user l1b

153

user: l1b
unassisted
postedit
options
prediction
prediction+options

total
7.7s
4.5s
4.5s
2.7s
4.8s

init-p
1.3s
1.5s
0.6s
0.3s
0.6s

end-p
0.1s
0.4s
0.1s
0.3s
0.4s

short-p mid-p
1.8s
1.0s
0.9s
0.7s
1.3s

0.3s
0.1s
0.4s
0.2s
0.4s

big-p
1.9s
0.4s
0.7s
0.1s
0.5s

key
2.3s
1.1s
1.5s
0.6s
0.9s

click

-
-

0.4s

-

0.5s

tab
-
-
-

0.4s
0.2s

slightly
less time
spent on
typing

philipp koehn

computer aided translation

30 october 2015

activities: native french user l1b

154

user: l1b
unassisted
postedit
options
prediction
prediction+options

total
7.7s
4.5s
4.5s
2.7s
4.8s

init-p
1.3s
1.5s
0.6s
0.3s
0.6s

end-p
0.1s
0.4s
0.1s
0.3s
0.4s

short-p mid-p
1.8s
1.0s
0.9s
0.7s
1.3s

0.3s
0.1s
0.4s
0.2s
0.4s

big-p
1.9s
0.4s
0.7s
0.1s
0.5s

key
2.3s
1.1s
1.5s
0.6s
0.9s

click

-
-

0.4s

-

0.5s

tab
-
-
-

0.4s
0.2s

less

pausing

slightly
less time
spent on
typing

philipp koehn

computer aided translation

30 october 2015

activities: native french user l1b

155

user: l1b
unassisted
postedit
options
prediction
prediction+options

total
7.7s
4.5s
4.5s
2.7s
4.8s

init-p
1.3s
1.5s
0.6s
0.3s
0.6s

end-p
0.1s
0.4s
0.1s
0.3s
0.4s

short-p mid-p
1.8s
1.0s
0.9s
0.7s
1.3s

0.3s
0.1s
0.4s
0.2s
0.4s

big-p
1.9s
0.4s
0.7s
0.1s
0.5s

key
2.3s
1.1s
1.5s
0.6s
0.9s

click

-
-

0.4s

-

0.5s

tab
-
-
-

0.4s
0.2s

less

pausing

especially
less time

in big
pauses

slightly
less time
spent on
typing

philipp koehn

computer aided translation

30 october 2015

origin of characters: native french l1b

156

user: l1b
postedit
options
prediction
prediction+options

key
18%
59%
14%
21%

click

-

40%

tab
-
-

-

85%
44% 33%

mt
81%

-
-
-

philipp koehn

computer aided translation

30 october 2015

origin of characters: native french l1b

157

user: l1b
postedit
options
prediction
prediction+options

key
18%
59%
14%
21%

click

-

40%

tab
-
-

-

85%
44% 33%

mt
81%

-
-
-

translation comes to large

degree from assistance

philipp koehn

computer aided translation

30 october 2015

pauses reconsidered

158

    our classi   cation of pauses is arbitrary (2-6sec, 6-60sec, >60sec)
    extreme view: all you see is pauses
    keystrokes take no observable time
    all you see is pauses between action points

    visualizing range of pauses:

time t spent in pauses p     p up to a certain length l

sum(t) =

1
z

   

p   p,l(p)   t

l(p)

philipp koehn

computer aided translation

30 october 2015

results

159

philipp koehn

computer aided translation

30 october 2015

learning effects

160

users become better over time with assistance

philipp koehn

computer aided translation

30 october 2015

learning effects: professional translators

161

casmacat longitudinal study

productivity projection as re   ected in kdur taking into account six weeks

(kdur = user activity excluding pauses > 5 secods)

philipp koehn

computer aided translation

30 october 2015

eye tracking

162

    eye trackers extensively used in cognitive studies of, e.g., reading behavior
    overcomes weakness of key logger: what happens during pauses
    fixation: where is the focus of the gaze
    pupil dilation: indicates degree of concentration

philipp koehn

computer aided translation

30 october 2015

eye tracking

163

    problem: accuracy and precision of gaze samples

philipp koehn

computer aided translation

30 october 2015

    recorded gaze lacations and    xations

gaze-to-word mapping

164

    gaze-to-word mapping

philipp koehn

computer aided translation

30 october 2015

logging and eye tracking

165

focus on target word (green) or source word (blue) at position x

philipp koehn

computer aided translation

30 october 2015

cognitive studies: user styles

166

    user style 1: veri   es translation just based on the target text,

reads source text to    x it

philipp koehn

computer aided translation

30 october 2015

cognitive studies: user styles

167

    user style 2: reads source text    rst, then target text

philipp koehn

computer aided translation

30 october 2015

cognitive studies: user styles

168

    user style 3: makes corrections based on target text only

philipp koehn

computer aided translation

30 october 2015

cognitive studies: user styles

169

    user style 4: as style 1, but also considers previous segment for corrections

philipp koehn

computer aided translation

30 october 2015

users and user styles

170

style 1
target / source-   x
p
   
   
   
   
   
   

pia
   
   
   
   
   
   

pi
   
   
   
   
   
   

p02
p03
p04
p05
p07
p08
p09

style 2
style 3
source-target
target only
pia p
p
   
   
   

pi
   

pi

   

   

   

*
   
   
   

   
   
   
   

style 4
wider context
pia p
pia
   
   
   
   
   
   
   
   
   
   
   
   

pi
   
   
   
   
   
   

   
   
   
   

    individual users employ different user styles
    but: consistently across different types of assitance

(p = post-editing, pi = interactive post-editing, pia = interactive post-editing
with additional annotations)

philipp koehn

computer aided translation

30 october 2015

    local backtracking

    immediate repetition:

(e.g. aaaa)

backtracking

171

the user immediately returns to the same segment

    local alternation: user switches between adjacent segments, often singly (e.g.

abab) but also for longer stretches (e.g. abc-abc).

    local orientation: very brief reading of a number of segments, then returning

to each one and editing them (e.g. abcde-abcde).

    long-distance backtracking

    long-distance alternation: user switches between the current segment and

different previous segments (e.g. jcjdjfjg)

    text    nal backtracking: user backtracks to speci   c segments after having

edited all the segments at least once

    in-text long distance backtracking: instances of long distance backtracking

as the user proceeds in order through the text.

philipp koehn

computer aided translation

30 october 2015

172

part iii

casmacat workbench implementation

philipp koehn

computer aided translation

30 october 2015

components

173

philipp koehn

computer aided translation

30 october 2015

guiwebservercatservermtserverjavascript     php    python  pythonweb sockethttphttpweb server

174

    builds on matecat open source implementation
    typical web application: lamp (linux, apache, mysql, php)
    uses model, view, controller breakdown

philipp koehn

computer aided translation

30 october 2015

guiwebservercatservermtserverjavascript     php    python  pythonweb sockethttphttpmodel

175

    relevant data is stored in mysql database matecat sandbox
    major database tables

    projects are stored in projects
    they have a corresponding entry in jobs
    raw    les (xliff) are stored in files
    segments are stored in segments
    translations of segments are stored in segment translations
    log events are stored in * event
    etc.

    the major change from matecat is the logging

philipp koehn

computer aided translation

30 october 2015

controller

176

    typical request: get information about a segment:

post http://192.168.56.2:8000/?action=getsegments&time=1446185242727

    script index.php selects corresponding action in lib/controller

e.g., getsegmentscontroller.php

    response is html or json
    the main action is really in the javascript gui public/js

    core functionality from matecat public/js/cat.js
    casmacat extensions public/js/casmacat

philipp koehn

computer aided translation

30 october 2015

cat server

177

    to a large degree middleware
    calls external services such as

    mt server
    word aligner
    interactive translation prediction

    caches information about a sentence translation

philipp koehn

computer aided translation

30 october 2015

guiwebservercatservermtserverjavascript     php    python  pythonweb sockethttphttpmt server

178

    google-style api to mt server
    python wrapper for moses
    basic translation request
    includes pre and post processing pipeline
    other functions: word alignment, incremental updating, etc.

    uses mosesserver xmlrpc server

philipp koehn

computer aided translation

30 october 2015

guiwebservercatservermtserverjavascript     php    python  pythonweb sockethttphttpserver.py

179

    requires mosesserver to run as a service

mosesserver -config $modeldir/moses.ini --server-port 9010

    script server.py requires a lot of parameters

    preprocessing tools (tokenizer, truecaser, etc.)
    ip address and port
    url of the mosesserver api
    etc.

    request to the script

http://127.0.0.1:9000//translate?q=un+test&key=0&source=xx&target=xx

    response

{"data":
"translatedtextraw":

{"translations":

"a test",

[{"translatedtext":

"a test",

"annotatedsource":

"un test",

"id121":

{"src":

[[0, 1], [3, 6]], "tgt":

[[0, 0], [2, 5]]}}]}}

philipp koehn

computer aided translation

30 october 2015

home edition

180

    moses is installed in /opt/moses
    casmacat is installed in /opt/casmacat

    web server / gui in /opt/casmacat/web-server
    mt server (server.py) in /opt/casmacat/mt-server
    cat server in /opt/casmacat/cat-server
    installation scripts in /opt/casmacat/install
    log    les in /opt/casmacat/logs

    home edition

    admin web server in /opt/casmacat/admin
    corpus data in /opt/casmacat/data
    prototype training in /opt/casmacat/experiment
    engines stored in /opt/casmacat/engines

philipp koehn

computer aided translation

30 october 2015

home edition mt engine
    demo engine in /opt/casmacat/engines/fr-en-upload-1
    files

181

biconcor.1
biconcor.1.align
biconcor.1.src-vcb
biconcor.1.tgt
biconcor.1.tgt-vcb
corpus-1.binlm.1
fast-align.1
fast-align.1.log
fast-align.1.parameters
fast-align-inverse.1
fast-align-inverse.1.log
fast-align-inverse.1.parameters
info
moses.tuned.ini.1
phrase-table-mmsapt.1
reordering-table.1.wbe-msd-bidirectional-fe.minlexr
run
truecase-model.1.en
truecase-model.1.fr

    the script run starts the engine

philipp koehn

computer aided translation

30 october 2015

thank you

182

questions?

philipp koehn

computer aided translation

30 october 2015

