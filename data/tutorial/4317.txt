constructing and mining  
web-scale id13s 

evgeniy gabrilovich (google) 
gabr@google.com 
 
nicolas usunier (facebook) 
usunier@fb.com 

sigir 2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

the opinions expressed herein are the sole 
responsibility of the tutorial instructors and 
do not necessarily reflect the opinion of 

facebook inc. or google inc. 

 

technologies described might or  

might not be in actual use. 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

2 

acknowledgements 

 

thanks  to  luna  dong,  matthew  gardner,  ni  lao,  kevin 
murphy,  antoine  bordes,  and  jason  weston  for  fruitful 
discussions that helped improve this tutorial. 

special  thanks  to  philip  bohannon  and  rahul  gupta  for 
letting  us  use  their  slides  on  entity  deduplication  and 
id36. 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

3 

outline of the tutorial 

part 1: id13s 

1. applications of id13s 
2. freebase as an example of a large scale knowledge repository 
3. research challenges 
4. knowledge acquisition from text 

 

part 2: methods and techniques  

1. id36 
2. entity resolution 
3.

link prediction 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

4 

part 1: id13s 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

5 

the role of knowledge 

   

is  power     hypothesis 

(the 
   knowledge 
knowledge principle):    if a program is to perform 
a complex task well, it must know a great deal 
about the world in which it operates.    

    the breadth hypothesis:    to behave intelligently 
in  unexpected  situations,  an  agent  must  be 
capable  of  falling  back  on  increasingly  general 
knowledge.    

        lenat & feigenbaum 
         artificial intelligence 47 (1991) 
           on the threshold of knowledge    

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

6 

why (knowledge) graphs? 

    we   re surrounded by entities, which are connected by relations 

    we need to store them somehow, e.g., using a db or a graph 

    graphs can be processed efficiently and offer a convenient 

abstraction 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

7 

id13s 

  

facebook   s  
entity graph 

openie 

(reverb, ollie) 

microsoft   s 

satori 

google   s 

id13 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

8 

a sampler of research problems 

    growth: id13s are incomplete! 

link prediction: add relations 

   
    ontology matching: connect graphs 
    knowledge extraction: extract new entities and relations from web/text 

    validation: id13s are not always correct!  

    entity resolution: merge duplicate entities, split wrongly merged ones 
    error detection: remove false assertions, find stale facts 

   

   

interface: how to make it easier to access knowledge? 
    id29: interpret the meaning of queries 
    id53: compute answers using the id13 

intelligence: can ai emerge from id13s? 
    automatic reasoning and planning 
    generalization and abstraction 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 
 

9 

a sampler of research problems 

    growth: id13s are incomplete! 

link prediction: add relations 

   
    ontology matching: connect graphs 
    knowledge extraction: extract new entities and relations from web/text 

    validation: id13s are not always correct!  

    entity resolution: merge duplicate entities, split wrongly merged ones 
    error detection: remove false assertions 

   

   

interface: how to make it easier to access knowledge? 
    id29: interpret the meaning of queries 
    id53: compute answers using the id13 

intelligence: can ai emerge from id13s? 
    automatic reasoning and planning 
    generalization and abstraction 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 
 

10 

a sampler of applications 
of id13s 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

11 

surfacing structured results in web search 

augmenting the 
presentation  
with relevant 

facts 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

12 

surfacing facts proactively 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

13 

exploratory search 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

14 

id53 

  

google 

evi 

(amazon) 

siri 

(apple) 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

15 

answering implicit questions 

here is a condition     
what does it mean ? 

talk at the webqa workshop  

   cura te ipsum: answering symptom queries 

with question intent    

14:00 on thursday, july 21 
here are some symptoms     

what do they indicate ? 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

16 

extracting candidate conditions: id13 

knee pain 

swollen  

knee 

symptom 

patellar tendinitis 

nsaid 

analgesic 

treatment 

cause 

frequent jumping 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

18 

forthcoming afternoon tutorial today 

 

   id53 with knowledge base, web and beyond    

scott wen-tau yih (microsoft research) 

hao ma (microsoft research) 

 

 

 

today: sunday, july 17, 14:00     17:30 

room c 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

19 

connecting people, places and things 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

20 

connecting people, places and things 

structured search within the graph 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

21 

towards a knowledge-powered digital assistant 

ok google 

siri 

(apple) 

cortana 
(microsoft) 

    natural way of accessing/storing knowledge 
    dialogue system 
    personalization 
    emotion 
 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

22 

freebase as an example  
of a large scale  
knowledge repository 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

23 

    freebase is an open, creative commons licensed repository 

of structured data  

    typed entities rather than strings 

 

relations are  

typed too! 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

24 

the world changes, but we don   t retract facts 

we just add more facts! 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

25 

a graph of inter-related objects 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

26 

schema limitations 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

27 

schema limitations (cont   d) 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

28 

subject-predicate-object (spo) triples 

                in  
 
 
 
 

</m/0jcx,            /m/04m8,            /m/019xz9> 

/people/person/place_of_birth 

place of birth 

/en/albert_einstein 
albert einstein 

/en/ulm 

ulm 

yago2 uses spotl tuples  
(spo + time and location) 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

29 

freebase transition to wikidata 

    freebase is read-only since march    15, data in transition to wikidata  
   http://dumps.wikimedia.org/wikidatawiki/ 
    wikidata: 18.5m data items as of june 30, 2016 
    freebase: 47.5m entities, 2.9b facts 

    different requirements for citation and sourcing of facts 

    unique (each item represents a clearly identifiable) 
    notable (corresponding page on a wikimedia site such as wikipedia) 
    statements do not necessarily encode true facts, but rather 

claims, which have verifiable sources 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

30 

   from freebase to wikidata: the great migration   ,  
tanon et al., www 2016 

  

using google search and the knowledge vault to match freebase 
assertions to potential citations 

 

 

slides: 
http://bit.ly/freebase-to-wikidata-slides 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

31 

automatic knowledge acquisition  
from text 
using an existing knowledge base 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

32 

knowledge discovery: man vs. machine 

head + 
torso 

the long 

tail 

relying on humans 
    volunteer contributions at freebase.com 
   
     (e.g., edgar, musicbrainz) 

import of large datasets 

 
 
automatic extraction 
    extraction from web pages 
     using an existing knowledge base ! 

http://www.flickr.com/photos/sandreli/4691045841/ 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

33 

output 

(representation) 

structured 
(schema-ful) 

semi-struct. 
(fixed lexicon 
+ free text) 
unstructured 
(schema-less) 

knowledge vault 

deepdive 

nell / neil 

open ie 

unstructured 

semi-

structured 

structured 

input 
humans 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

34 

open ie     extracting unstructured facts from 
unstructured sources (text) 

    textrunner [banko et al., ijcai    07], woe [wu & weld, acl    10] 

    limitations 

1.

incoherent extractions     the system makes independent decisions 
whether to include each word in the relation phrase, possibly gluing 
together unrelated words 

2. uninformative extractions     those omitting critical information (e.g.,    has    

instead of    has a population of    or    has a ph.d. in   ) 

    reverb [fader et al., emnlp    11] solves these problems by adding 

syntactic constraints 
    every multi-word relation phrase must begin with a verb, end with a 

preposition and be a contiguous sequence of words) 

    relation phrases should not omit nouns 
    minimal number of distinct argument pairs in a large corpus 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

35 

ollie: open language learning for information extraction 

[mausam et al., emnlp    12] 

 

limitations of reverb 

    only extracts relations  
   mediated by verbs 

    ignores context, potentially  
   extracting facts that are not asserted 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

36 

ollie (cont   d) 

 

 

uses reverb to 

 
build a seed 
 

set. 

 
assumption: 
every relation 
 
can also be 
 
verb-based 
expression 

expressed via a 

uses dependency 

parse structure 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

37 

extracting structured facts from unstructured sources (text) 

/en/tom_cruise 

/people/person/ 
date_of_birth 

thomas cruise mapother iv   (born july 3, 1962),  

/people/person/ 

nationality 

/common/topic/ 

alias 

widely known as tom cruise,  

/people/person/ 

profession 

is an american    film actor   and    producer.  

/en/actor 

/en/film_producer 

/en/united_states 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

38 

knowledge fusion 

extractors 

graph priors 

fusion 

cf. id13 
identification 
[pujara et al., iswc    13] 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

39 

[with dong et al., kdd 2014] 

distant supervision [mintz et al.    09] 

   boy rescued from thames after 
jumping from westminster bridge    

   man   s life saved after he plunged into 
thames from westminster bridge    

   man jumps into thames to save 
woman in front of london eye tourists, 
near westminster bridge    
 

</en/westminster_bridge, 
  /   /body_of_water_spanned, 
  /en/river_thames> 

   two people evading police 
jump into connecticut river 
from north end bridge; 
search ongoing    

< north end bridge, 
  /   /body_of_water_spanned, 
 connecticut river > 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

40 

knowledge fusion 

extractors 

graph priors 

fusion 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

41 

[with dong et al., kdd 2014] 

link prediction / matrix completion 

compute pr                                =1                                     ) : 

   prior    before seeing text for <i,k,j> 

ny 

knicks 

   a review of relational machine learning for id13s     
with nickel, murphy, and tresp, 
teamin
league 
proceedings of  the ieee, 104(1):11-33, 2016 
special issue on big data 

opponent 

la 

lakers 

ad 
kobe 
bryant 

nba 

playin
league 

? playfor 

kobe 
bryant 

teammate 

playfor 

pau 
gasol 

la 

lakers 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

42 

knowledge fusion 

webmaster annotations 

tables 

nl text 

page structure 

deep neural 

network 

path ranking 

algorithm 

(pra) 

extractors 

graph priors 

fusion 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

43 

[with dong et al., kdd 2014] 

knowledge fusion 

webmaster annotations 

(http://) schema.org 

[cafarella et 
al., vldb    08; 
venetis et al., 
tables 
vldb    12] 

[mintz et al., 
nl text 
ranlp    09] 

page structure 

[cafarella et al., cacm    11] 

deep neural 

[franz et al., iswc    09; 
bordes et al., ai/stats    12; 
drumond et al., sac    12; 
socher et al., nips    13 ] 

network 

path ranking 
[lao et al., 
algorithm 
emnlp    11] 

(pra) 

extractors 

graph priors 

fusion 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

44 

[with dong et al., kdd 2014] 

fusing multiple extractors 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

45 

the importance of adding more evidence 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

46 

the yield from different extraction systems 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

47 

fusing extractors with priors 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

48 

example: 
<barry richter, studiedat, uw-madison> 
   in the fall of 1989, richter accepted a scholarship to the  
university of wisconsin, where he played for four years and  
earned numerous individual accolades ...    
 
   the polar caps' cause has been helped by the impact of 
knowledgeable coaches such as andringa, byce and former uw 
teammates chris tancill and barry richter.    
 
    fused extraction confidence: 0.14 
 
                                                        <barry richter, born in, madison> 
                                                        < barry richter, lived in, madison> 
 
    final belief (fused with prior): 0.61 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

49 

the importance of prior modeling 

2x ! 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

50 

comparison of knowledge repositories 

total # facts in              > 2.5b 

cf. open ie (e.g., [mausam et al.    12]) 
5b assertions (mausam, michael schmitz, 
personal communication, oct.    13) 

302m with prob > 0.9 
381m with prob > 0.7 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

51 

knowledge acquisition from the web 

unfocused (   comb through the web   ) 
    start from a collection of web pages 
    non-targeted (blanket) extraction 

focused 
    formulate specific questions or queries,  
    looking for missing data 
identify (a small set of) 
   
    relevant web pages 
    targeted extraction 
 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

52 

automatic knowledge base completion (focused extraction) 

relation 

profession 
place of 
birth 
nationality 
education 
spouse 
parents 

% unknown 
in freebase 

adam 

68% 
71% 

75% 
91% 
92% 
94% 

(genesis 2) 

8 and the lord god planted a garden eastward in eden; and 
there he put the man whom he had formed. 

 

15 then the lord god took the man and put him in the garden 
of eden to tend and keep it. 

 
19 and out of the ground the lord god formed every beast of the 
field, and every fowl of the air; and brought them unto adam to 
see what he would call them: and whatsoever adam called 
every living creature, that was the name thereof. 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

53 

proactively searching for missing values 
[with west et al., www    14] 

 

 

 

 

 

    mine search logs for best query templates (per relation) 

    augment queries with disambiguating information 

    thou shalt ask in moderation (asking too much may be harmful!) 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

54 

the importance of query augmentation 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

55 

learning to query 

/people/person/parents 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

56 

color = mean reciprocal 
rank of true answer 
good 

bad 

asking the right (number of) questions 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

57 

to trust, or not to trust, that is the question 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

58 

motivation for knowledge-based trust (kbt) 
[with dong et al., vldb    15] 

today 

popularity-based trust (links / searches / clicks) 
    exogenous signals 

key idea 

evaluate trustworthiness of sources by the 
correctness of their factual information 
    endogenous signals 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

59 

knowledge-based trust vs. id95 

often sources 

with low 
accuracy 

similar 
scores 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

60 

often tail 

sources w. high  
trustworthiness 

assessing fact correctness 

1.0 
    
fact 1 
triple 1 
0.9 
fact 2 
triple 2 
    
0.3 
fact 3 
triple 3 
    
0.8 
fact 4 
triple 4 
    
0.4 
fact 5 
triple 5 
    
0.8 
fact 6 
triple 6 
    
0.9 
fact 7 
triple 7 
    
1.0 
fact 8 
triple 8 
    
0.7 
fact 9 
triple 9 
    
0.2 
fact 10      
triple 10 
    
    
0.7 
0.7 

    
    

accuracy 
accuracy 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

61 

extraction 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

62 

what if the triple was extracted incorrectly ? 

surely we should not penalize a source for 
extraction errors ! 
and we don   t know the truth     
solution: we will jointly model 

1. extraction correctness 
2. triple correctness 
3. source accuracy 
4. extractor precision/recall 

latent variable 

model + em 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

63 

whom do you trust? 
we may trust facts found  
in reputable sources 

but how do we know a source is reputable ? 

if it contains correct facts,  
of course! 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

64 

algorithm: knowledge-based trust [with dong et al., vldb    15] 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

65 

predicting extraction correctness on          data 

limitations 
    extraction is sparse: 74% urls yield < 5 triples 
    kbt is reliable for < 20% websites and << 5% webpages 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

66 

how many facts are there ? 

and how many can we 

represent ? 

how many facts can 

be potentially 

extracted from text ? 

research challenges 

   for with much wisdom comes much sorrow;  

the more knowledge, the more grief.    

-- ecclesiastes 1:18 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

67 

limits of automatic extraction 

35% of freebase 

 

 

637m facts  
 
(non-redundant) 
possible culprits 

223m  
facts 

12% of freebase 

302m facts with 
prob(true)> 0.9 

    entity recognition, disambiguation, co-reference resolution 
    insufficient entity coverage 
    facts not stated in text, or not described in english, or difficult to parse 
    facts stated implicitly 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

68 

relations that are rarely expressed in text 

relation 

/people/person/gender 
/people/person/profession 
/people/person/children and 
/people/person/parents 
/medicine/drug_formulation/ 
manufactured_forms 
/medicine/manufactured_drug
_form/available_in 

notes 

pronouns 

% entity 
pairs not 

found 
30% 
18% 
36% 

99.9% 

99.4% 

albert einstein  male 

/book/author/works_written and 
/book/written_work/author 

37% 

sample object: "biaxin 250 
film coated tablet" (/m/0jxc5vb) 
sample subject:    fluocinolone 
acetonide 0.25 cream    
(/m/0jxlbx9) 
sample book title:    the birth 
day: a brief narrative of eliza 
reynolds, who died on sunday, 
oct 19, 1834    (/m/0ydpbtq) 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

69 

relations that are rarely expressed in text 

relation 

/people/person/gender 
/people/person/profession 
/people/person/children and 
/people/person/parents 
/medicine/drug_formulation/ 
manufactured_forms 
/medicine/manufactured_drug
_form/available_in 

% entity 
pairs not 

found 
30% 
18% 
36% 

99.9% 

99.4% 

/book/author/works_written and 
/book/written_work/author 

37% 

notes 

pronouns 

sample object: "biaxin 250 
film coated tablet" (/m/0jxc5vb) 
sample subject:    fluocinolone 
acetonide 0.25 cream    
(/m/0jxlbx9) 
sample book title:    the birth 
day: a brief narrative of eliza 
reynolds, who died on sunday, 
oct 19, 1834    (/m/0ydpbtq) 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

70 

implicitly stated information: adam 

(genesis 1) 

1 in the beginning god created the heaven and the earth. 
2 and the earth was without form, and void; and darkness was 
upon the face of the deep. and the spirit of god moved upon 
the face of the waters. 
3 and god said, let there be light: and there was light. 
    

(genesis 2) 
7 and the lord god formed man of the dust of the ground, and 
breathed into his nostrils the breath of life; and man became a 
living soul. 
8 and the lord god planted a garden eastward in eden; and 
there he put the man whom he had formed. 
    
19 and out of the ground the lord god formed every beast of 
the field, and every fowl of the air; and brought them unto 
20 and adam called his wife's name eve; because she was the 
adam to see what he would call them: and whatsoever adam 
mother of all living.                                                        (genesis 3:20) 
called every living creature, that was the name thereof. 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

71 

challenge: disparity of opinion 

who invented  

the radio ? 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

72 

challenge: fictional contexts 

should we assert 
</en/abraham_lincoln,  
  /people/person/profession, 
  /en/vampire_hunter> ? 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

73 

challenge: negative examples 

    we already know a lot     but those are only positive examples! 

    many ways to get negative examples     none of them perfect     

    deleted assertions in freebase 

   

    was the deletion justified ? 
inconsistencies identified with manually specified rules 
   

poor coverage 

released ! see goo.gl/mjb3a 

    examples judged by humans 

released ! see goo.gl/mjb3a 

    optimized for accuracy on the positive class 

    automatically create negative examples using the closed world assumption 

    noisy, unless applied to functional relations 

    feedback from web users 

    difficult to judge automatically 

id104 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

74 

negative examples (cont   d): feedback from web users 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

75 

[ipeirotis & gabrilovich, www 2014] 

what is the name of the animal on the quizz.us logo? 

your answer: 

send 

i don   t know 

question 1 out of 1 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

76 

entity resolution / deduplication 

    multiple mentions of the same entity is wrong and confusing. 

 

 

 

 

 

 

 

 

 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

77 

commonsense knowledge 

   bananas are yellow.    

   balls bounce.    

   jasmine flowers smell good.    

    commonsense information is hard to collect (too obvious) 

    yet commonsense reasoning is often crucial 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

78 

commonsense knowledge 
 
conceptnet 

 

    nodes represent concepts 
     (words or short nl phrases) 
    labeled relationships connecting them 
     saxophone     usedfor     jazz 
  learn     motivatedbygoal     knowledge 
 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

79 

conceptnet (cont   d) 

    conceptnet is a (hyper)graph 

    edges about the edges 

    each statement has justifications 
    provenance + reliability assessment 

    the graph is id-less 

    every node has all the information necessary to identify it 
    multiple branches can be developed in parallel and later merged 

take the union of the nodes and edges 

   
    no reconciliation 

[havasi et al., ranlp    07; speer and havasi, lrec    12] 

http://conceptnet5.media.mit.edu/ 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

 

80 

commonsense knowledge in yago 

    webchild [tandon et al., wsdm    14] 

(strawberry, hastaste, sweet),(apple, hascolor, green) 
    acquired from the web using semi-supervised learning 
    uses id138 senses and web statistics to construct seeds 

    acquiring comparative commonsense knowledge from the web 

[tandon et al., aaai    14] 

  (car, faster, bike), (lemon, more-sour, apple) 

    uses open ie 

    earlier work: [tandon et al., aaai    11] 
  capableof(dog, bark), partof(roof, house) 
    uses web id165 data with seeds from conceptnet 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

81 

cyc 

[guha et al., cacm    90]  +  http://www.cyc.com/publications 

    opencyc 

   

239k terms, 2m triples 

    researchcyc 

   

500k concepts, 5m assertions, 26k relations 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

82 

multiple modalities 

video 

how to jointly acquire 
knowledge from all 

these sources? 

text 

image from labelme 

images 

speech/sounds 

artificial worlds? 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

83 

natural interfaces to knowledge 

   where is new york city?    

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

84 

natural interfaces to knowledge (cont   d) 

   where did kobe bryant play in high school?    

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

85 

part 2: methods and 
techniques 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

86 

methods and techniques 

1. id36: 
    supervised models 
    semi-supervised models 
    distant supervision 

2. entity resolution 

   
   

single entity methods 
relational methods 

3. link prediction 

   
   
   
   

rule-based methods 
probabilistic models 
factorization methods 
embedding models 

not in this tutorial: 

    entity classification 
    group/expert detection 
    ontology alignment 
    object ranking 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

87 

id36 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

88 

id36 

? 
playfor 

tony 
parker 

sa spurs 

   tony parker, 
   tony parker, 
   parker 
   parker 
   tony parker 
   tony parker 

a point guard of 
once again saved 
man of the match for 

sa spurs    
sa spurs    
his team    
his team    
san antonio    
san antonio    

    extracting semantic relations between sets of [grounded] entities 

    numerous variants: 

    undefined vs pre-determined set of relations 
binary vs n-ary relations, facet discovery 
   
extracting temporal information 
   
supervision: {fully, un, semi, distant}-supervision 
   
    cues used: only lexical vs full linguistic features 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

89 

supervised id36 

    sentence-level labels of relation mentions 

   
   

"apple ceo steve jobs said.." => (stevejobs, ceo, apple) 
"steve jobs said that apple will.." => nil 
 

    traditional id36 datasets 

    ace 2004 
    muc-7 
    biomedical datasets (e.g bionlp challenges) 

    learn classifiers from +/- examples 

 

 

    typical features: context words + pos, dependency path between 

entities, named entity tags, token/parse-path/entity distance 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

90 

examples of features 

 x was born on dddd in y 
    dep: x <nsubjpass / born prep> on pobj> date prep> in pobj> y 
    ner: x = per, y = loc 
    pos: x = noun, nnp; y = noun, nnp 
    context: born, on, in , "born on"  

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

91 

    used to be the    traditional    setting [riloff et al., 06; soderland et al., 99] 

supervised id36 

 

 

    pros 

    cons 

    high quality supervision 
    explicit negative examples 

    very expensive to generate supervision 
    not easy to add more relations 
    cannot generalize to text from different domains 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

92 

semi-supervised id36 

    generic algorithm 

1. start with seed triples / golden seed patterns 
2. extract patterns that match seed triples/patterns 
3. take the top-k extracted patterns/triples 
4. add to seed patterns/triples 
5. go to 2 

 
    many published approaches in this category: 

    dual iterative pattern relation extractor [brin, 98] 
    snowball  [agichtein & gravano, 00] 
    textrunner [banko et al., 07]     almost unsupervised 

 

    differ in pattern definition and selection 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

93 

textrunner [banko et al., 07] 

    almost unsupervised 

    relations not fixed: does not follow id13 schema (growing) 
    no labeled data 
    mostly unlabeled text  
    uses heuristics to self-label a starting corpora (using a parser), such as 

    path length < k 
    path does not cross sentence-like boundaries like relative clauses 
    neither entity is a pronoun 

    self-training 

    generate +/- examples     learn classifier 
    extract new relation mentions using this classifier 
    generate triples from aggregated mentions, assign probabilistic score 

using [downey et. al., 2005] 

 

 

    later improved in reverb [fader et al., 11] 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

94 

distantly-supervised id36 

    existing knowledge base + unlabeled text     generate examples 

locate pairs of related entities in text 

   
    hypothesizes that the relation is expressed 

capitalof 

france 

google 

ceo 

larry 
page 

lucasfilm 

 
f

o
r
e
d
n
u
o
f

star 
wars 

directed 

george 
lucas 

google ceo larry page announced that... 

george lucas, founder of lucasfilms... 

star wars was directed by george lucas... 

i went to paris, france for the summer... 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

95 

distant supervision: modeling hypotheses 

typical architecture: 

1. collect many pairs of entities co-occurring in sentences from text corpus  

2.

 
if 2 entities participate in a relation, several hypotheses: 
1. all sentences mentioning them express it [mintz et al., 09] 

 

   barack obama is the 44th and current president of the us.        (bo, employedby, usa)  
 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

96 

[mintz et al., 09] 

  id13 

(sentence-level features) 

label 

u.s. president barack 
obama told reporters    

f1(bo, usa) 

multiclass logistic regressor  

(obama, president_of, usa) 

obama   s speech at the 
u.s. congress... 

f2(bo, usa) 

barack obama, the 
president of the usa., 

said that... 

f3(bo, usa) 

(aggregate features) 

barack obama 

announced that the u.s. 

will not... 

f4(bo, usa) 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

97 

[mintz et al., 09] 

    classifier: multiclass logistic regressor 

(barack obama, usa, aggfeatures) 

 

 
 

 
 
 
 

 
 
    negative examples 

president 

ceo 

spokesman 

capitalof 

notrelated 

 

 

 

 

 

    randomly sample unrelated entity pairs occurring in the same sentence 
    > 98% such pairs actually unrelated 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

sentence-level features 

    lexical: words in between and around mentions and their parts-of-

speech tags (conjunctive form) 
 

    syntactic: dependency parse path between mentions along with 

side nodes 
 

 

    named entity tags: for the mentions 

    conjunctions of the above features 

    distant supervision is used on to lots of data     sparsity of conjunctive 

forms not an issue 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

99 

sentence-level features 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

100 

examples of top features 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

101 

distant supervision: modeling hypotheses 

typical architecture: 

1. collect many pairs of entities co-occurring in sentences from text corpus  

2.

 
if 2 entities participate in a relation, several hypotheses: 
1. all sentences mentioning them express it [mintz et al., 09] 
2. at least one sentence mentioning them express it [riedel et al., 10] 

 

   barack obama is the 44th and current president of the us.        (bo, employedby, usa)  
 
 
   obama flew back to the us on wednesday.        (bo, employedby, usa)  
 

102 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

[riedel et al., 10] 

    every mention of an entity-pair does not express a relation 

 
 
 
 

 
 

 

 

    violations more in news than encyclopediac articles 

    assert triple from only a few mentions, not all 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

103 

[riedel et al., 10] 

    factor graph: 

relation variable 

relation mention variable 

    multiple-instance setting 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

104 

distant supervision: modeling hypotheses 

typical architecture: 

1. collect many pairs of entities co-occurring in sentences from text corpus  

2.

 
if 2 entities participate in a relation, several hypotheses: 
1. all sentences mentioning them express it [mintz et al., 09] 
2. at least one sentence mentioning them express it [riedel et al., 10] 
3. at least one sentence mentioning them express it and 2 entities can express 

multiple relations [hoffmann et al., 11] [surdeanu et al., 12] 
 

   barack obama is the 44th and current president of the us.        (bo, employedby, usa)  
 
 
 
   obama was born in the us just as he always said.        (bo, bornin, usa)  
   obama flew back to the us on wednesday.        (bo, employedby, usa)  
 

105 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

[surdeanu et al., 12] 

    id36 is a multi-instance multi-label problem. 

   barack obama is the 44th and current president of the us.        (bo, employedby, usa)  
   obama was born in the us just as he always said.        (bo, bornin, usa) 
   obama flew back to the us on wednesday.        nil 

weight vector for the binary top-level classifier for jth relation 

top-level classification decision for jth relation 

latent relation classification, among relations and nil. 

sentence 

set of extraction for pair i of entities 
weight vector for multi-class mention classifier 

    training via em with initialization with [mintz et al., 09] 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

106 

relaxing hypotheses improves precision 

surdeanu 

precision-recall curves on extracting from new york times articles to 
freebase [weston et al., 13]  

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

107 

distant supervision 

    can scale to the web, as no supervision required 
    generalizes to text from different domains 
    generates a lot more supervision in one iteration 

    needs high quality entity-matching 
    relation-expression hypothesis can be wrong 

    does not generate negative examples 

    partially tackled by matching unrelated entities 

    can be compensated by the extraction model, redundancy, language model 

    pros 

 
 

    cons 

 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

108 

plenty of extensions 

    using language models [downey et al., 07] 

    do two entities seem to express a given relation, given the context? 

    joint id36 + other nlp tasks 

    named entity tagging [yao et al., 10] 
    possibly with entity resolution and/or coreference 

 
    jointly + repeatedly training multiple extractors [carlson et. al., 10] 

 

 

    unsupervised extraction [poon & domingos, 10] 

    jointly perform id36 and link prediction [bordes et 

al., 12; weston et al., 13; riedel et al., 13] 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

109 

entity resolution 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

110 

entity resolution 

playfor 

pau 
gasol 

teammate 

sa spurs 

playfor 

34 

age 

playinleague 

1982 

bornin 

tony 
parker 

tp 

single entity 
resolution 

relational entity 

resolution 

william 
anthony 
parker jr. 

nationality 

french 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

111 

single-entity entity resolution 

    entity resolution without using the relational context of entities 

    many distances/similarities for single-entity entity resolution: 

    id153 (levenshtein, etc.) 
    set similarity (tf-idf, etc.) 
    alignment-based 
    numeric distance between values 
    phonetic similarity 
    equality on a boolean predicate 
    translation-based 
    domain-specific 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

112 

case study: deduplicating places [dalvi et al., 14] 

    multiple mentions of the same place is wrong and confusing. 

 

 

 

 

 

 

 

 

 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

113 

origin of duplicates 

    duplicates are often created during check-in:  

    different spellings 
    gps errors 
    wrong checkins 

    frequently, these duplicates have: 

   
   

 few attribute values 
 names were typed hurriedly 

 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

effectively matching place names is hard  

good matches (help recall) 

bad matches (hurt precision) 

guggenheim 

guggenheim 

guggenheim starbucks 

guggenheim art 
museum manhattan 
dishdash 

dish dash restaurant 

ippudo new york  

ipudo 

central park caf   
(sunnyvale) 

central park restaurant 
(sunnyvale) 

central park caf   
(nyc) 

central park restaurant 
(nyc) 

glen park 

glen canyon park 

    easy to find cases where the    bad match    pair is more similar than the 

   good match    pair 

    existing similarity metrics (tf-idf, levenshtein, learned-weight edit 

distance, etc.) generally fail to handle this level of variability 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

idea 1: core words 

    a core word = a word a human would use to refer to the place, if 

only a single word were allowed 

    goal: try to identify the core word, use it for comparisons 

guggenheim 

guggenheim starbucks 

guggenheim art museum, manhattan 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

idea 2: spatial context model 

    tokens vary in importance based on geographic context 

    central park is common/meaningless in nyc 

    goal: filter out context-specific tokens when matching names 

broadway 

times square 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

convert into an id153 

    we match n1 with n2 given: 

    core words model 
    spatial contextual model 

guggenheim art museum, 

manhattan 

    treat n1, n2 as bag of words, and require:  

guggenheim 

    core words match 
    any words that match are either core or 

background in both n1 and n2 

    extend this to levenshtein-like id153  

guggenheim starbucks 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

deduplication results [dalvi et al., 14] 

    edit: levenshtein distance between place names 

    tf-idf: cosine similarity of tf-idf weighted vector of overlapping names 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

entity resolution 

playfor 

pau 
gasol 

teammate 

sa spurs 

playfor 

34 

age 

playinleague 

1982 

bornin 

tony 
parker 

tp 

single entity 
resolution 

relational entity 

resolution 

william 
anthony 
parker jr. 

nationality 

french 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

120 

relational entity resolution     simple strategies 

    enrich model with relational features     richer context for matching 

 

 

playinleague 

    relational features: 

1982 

    value of edge or neighboring attribute 
    set similarity measures  

bornin 

playfor 

pau 
gasol 

teammate 

sa spurs 

playfor 

34 

age 

tony 
parker 

tp 

    overlap/jaccard 
   
   

average similarity between set members 
adamic/adar: two entities are more similar if they share more items that are 
overall less frequent 
simrank: two entities are similar if they are related to similar objects 
katz score: two entities are similar if they are connected by shorter paths 

   
   

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

121 

relational entity resolution     advanced strategies 

playfor 

pau 
gasol 

teammate 

sa spurs 

playfor 

34 

age 

playinleague 

1982 

bornin 

tony 
parker 

tp 

    dependency graph approaches [dong et al., 05] 

    relational id91 [bhattacharya & getoor, 07] 
    probabilistic relational models [pasula et al., 03] 
    markov logic networks [singla & domingos, 06] 
    probabilistic soft logic [broecheler & getoor, 10] 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

122 

link prediction 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

123 

link prediction 

la lakers 

teaminleague 

opponent 

sa spurs 

playfor 

playinleague 

tony 
parker 

playfor 

pau 
gasol 

teammate 

    add knowledge from existing graph 
    no external source 
    reasoning within the graph 

1. rule-based methods 
2. probabilistic models 
3. factorization models 
4. embedding models 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

124 

first order inductive learner 

    foil learns function-free horn clauses: 

    given positive negative examples of a concept  
    a set of background-knowledge predicates  
    foil inductively generates a logical rule for the concept that cover all + and no - 

sa 
spurs 

playfor 

playfor 

tony 
parker 

pau 
gasol 

teammate 

teammate(x,y)    playfor(y,z)     playfor(x,z)  

    computationally expensive: huge search space large, costly horn clauses 
    must add constraints     high precision but low recall 
   
 
sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

inductive logic programming: deterministic and potentially problematic 

125 

path ranking algorithm [lao et al., 11] 

    id93 on the graph are used to sample paths 
    paths are weighted with id203 of reaching target from source  
    paths are used as ranking experts in a scoring function 

 

la 

lakers 

h(pa2(tp,sas)) = 0.2 

 

teaminleague 

opponent 

 

playfor 

playinleague 

tony 
parker 

pau 
gasol 

teammate 

sa 
spurs 

playfor 

h(pa1(tp,sas)) = 0.95 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

126 

link prediction with scoring functions 

    a scoring function alone does not grant a decision 

    thresholding: determine a threshold    

   (tp, playfor, sas) is true  iff 

    ranking: 

    the most likely relation between kobe bryant and la lakers is: 

 

    the most likely team for kobe bryant is: 

 
 

    as prior for extraction models (cf. knowledge vault [dong et al., 2014]) 

    no calibration of scores like probabilities 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

127 

id93 boost precision 

0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0

n-foil
pra

p@10

p@100

p@1000

precision of generalized facts for three cutoffs [lao et al., 2011]  

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

128 

probabilistic relational models [friedman et al., 99]  

    probabilistic relational models are directed id114 that 

can handle link and feature uncertainty  

    probabilistic id136 to predict links but also duplicates, classes, 

clusters, etc. based on id155 distributions 

 
    limitations: 
 

    careful construction: must avoid cycles 
    generative process that models both 

observations and unknowns 

patient 

strain 

contact 

    tractability issues 

 
 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

129 

relational markov networks [taskar et al., 02] 

    discriminative model: performs id136 over the unknowns only 

    discriminant function: 

 

    drawbacks: 

    1 feature for each state of each clique (large) 
    map estimation with belief propagation (slow) 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

130 

markov logic networks [richardson & domingos, 06] 

    id13 = set of hard constraints on the set of possible worlds 

    markov logic make them soft constraints 
    when a world violates a formula, it becomes less probable but not impossible 

    formulas 

    constants: tp, sas, nba 
    variables: x, y ranging over their domains (person, team, etc.). 
    predicates: teammate(x, y) 
    atom: teammate(tp, x) 
    ground atom: teammate(tp, pg) 

 

number of true groundings of formula i 

weight of formula i 

    a markov logic network (w, f) is a set of weighted first-order formulas 

id203 of a grounding x: 

   
    higher weight     stronger constraint 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

 

131 

probabilistic soft logic [bach et al., 13] 

    framework where rules have continuous truth values 

    atoms like teammate(kb, x) are continuous random variables 

    each predicate has a weight like in mlns  

    id203 of a grounding: 

 

 

 

 

   

id136 is very tractable: id76 problem. 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

 

132 

multiple relational id91 [kok & domingos, 07] 

    hypothesis: multiple id91s are necessary to fully capture the 

interactions between entities  

 

some are friends 

some are teammates 

predictive of playfor 

teammate 

teammate 

predictive 
of hobbies 

friends 

friends 

friends 

parker 
gasol 

leonard 
aldridge 

murray 
martin 

ingram 
russel 

clarkson 
young 

zubac 
mozgov 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

multiple relational id91 [kok & domingos, 07] 

    markov logic framework: 

    create an unary predicate for each cluster e.g. cluster22(x) 
    multiple partitions are learnt together 
    use connections: 

    cluster relations by entities they connect and vice versa 

    use types: 

    cluster objects of same type 
    cluster relations with same arity and argument types 

    learning by greedy search and multiple restarts maximizing posterior 

    link prediction is determined by evaluating truth value of grounded 

atoms such as playfor(tp, sas) 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

134 

stochastic blockmodels [wang & wong, 87] 

    blockmodels: learn partitions of entities and of predicates 

    partition entities/relations into subgroups based on equivalence measure.  
    for each pair of positions presence or absence of relation. 
    structural equivalence: entities are structurally equivalent if they have 

identical relations to and from all the entities of the graph 
 

    stochastic blockmodels:  

    underlying probabilistic model 
    stochastic equivalence: two entities or predicates are stochastically 

equivalent if they are    exchangeable    w.r.t. the id203 distribution  

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

135 

infinite relational models [kemp et al., 05] 

infinite: number of clusters increases as we observe more data 

   
    relational: it applies to relational data 

 

 

 

 

 

    prior assigns a id203 to all possible partitions of the entities 

    allow number of clusters to adjust as we observe more data 

    chinese restaurant process: each new object is assigned to an 
existing cluster with id203 proportional to the cluster size.  

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

 

136 

example 

    semantic network with 135 concepts and 49 binary predicates.  

    finds 14 entities clusters and 21 predicate clusters 

 

 

 

 

 

    scalability issues with very large id13s 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

137 

variants of sbms 

    mixed membership stochastic block models [airoldi et al., 08] 

    nonparametric latent feature relational model [miller et al., 09] 

    hybrid with tensor factorization [sutskever et al., 09] 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

138 

factorization methods 

    id105 is successful: id185, 

recommendation, etc. 

    extension to multi-relational case 

ny 

knicks 

teaminleague 

opponent 

playfor 

playinleague 

la 

lakers 

playfor 

pau 
gasol 

teammate 

kobe 
bryant 

kobe bryant 

     collective id105 or tensor factorization  

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

139 

tensor factorization 

    many methods available: parafac, tucker, dedicom, etc. 

    example of parafac [harschman, 70] 

 
 
 
 

    decomposition as a sum of rank-one tensors 

 
 

    a, b and c are learned by alternating least squares 
    does not take advantage of the symmetry of the tensor 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

140 

rescal [nickel et al., 11] 

    collective id105 inspired by dedicom 

 

    a single matrix a stores latent representations of entities (vectors) 
    matrices rk store latent representations of relations 

 

    score: 

 
 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

141 

rescal [nickel et al., 11] 

    training with reconstruction objective: 

 
 

    optimization with alternating least squares on a and rk 
    faster than parafac. 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

142 

factorization outperforms id91 

1

0.9

0.8

0.7

0.6

0.5

irm
mrc
parafac
rescal

kinships

umls

nations

area under the precision-recall curve in link prediction [nickel et al., 2011] 
+ improved performance when combined with pra [nickel et al. 2014]  

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

143 

embedding models 

    related to deep learning methods 
    entities are vectors (low-dimensional sparse) 
    relation types are operators on these vectors 

la 

lakers 

teaminleague 

opponent 

playfor 

playinleague 

sa 
spurs 

playfor 

pau 
gasol 

teammate 

tony 
parker 

tony parker 
pau gasol 
nba 
sa spurs 
la lakers 

teaminleague 

    

playfor 

     embeddings trained to define a similarity score on triples such that: 

 
 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

144 

training embedding models 

    training by ranking triples from the kg vs negative (generated) 

    optimization via stochastic id119  

    for each triple from the training set such as (tp, playfor, sas): 

1. unobserved facts (false?) are sub-sampled:  

(kobe bryant, opponent, sa spurs) 
(kobe bryant, playfor, sa spurs) 
(nba, teammate, sa spurs) 
etc    

   
   
   
   
it is checked that the similarity score of the true triple is lower: 
 
if not, parameters of the considered triples are updated.  

2.

3.

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

145 

structured embeddings [bordes et al., 11] 

    each entity = 1 vector 
    each relation = 2 matrices 
    score: l1 distance between projected embeddings 

l1 

subj of 
playfor 

obj of 
playfor 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

146 

tony parker 

playfor 

sa spurs 

translating embeddings [bordes et al. 13] 

    simpler model: relation types are translation vectors 

jane 

childof 

mary 

bornin 

patti 

john 

bornin 

mary 

austin 

miami 

c
h

i
l

d
o

f
 

john 

jane 

patti 

    much fewer parameters (1 vector per relation). 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

147 

the simpler, the better 

ranking object entities on a subset of freebase [bordes et al. 13] 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

148 

visualization 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

149 

using id13 and text together 

why not merging id36 and link prediction in the same model? 

extracted facts should agree both with the text and the graph! 

? 
playfor 

tony 
parker 

sa spurs 

   kobe bryant, 
   tony parker, 
   kobe  
   parker 
   kobe bryant 
   tony parker 

a point guard of 
once again saved 
man of the match for 

the spurs    
his team    
san antonio    

la lakers 

teaminleague 

playinleague 

tony 
parker 

opponent 

sa spurs 

playfor 

pau gasol 

teammate 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

150 

joint embedding models [bordes et al., 12; weston et al., 13]  

    combination of two scores: 

 

 

 

 

          (trained separately) 

           inspired by wsabie (weston et al., 10) 

   

   

 

  
 
 
 
   kobe bryant, 
   tony parker, 
 
   kobe  
   parker 
   kobe bryant 
   tony parker 
 
  
 

 

 

 

 
w 
 

... 0 100     10     010 ... 

a point guard of 
once again saved 
man of the match for 

the spurs    
his team    
san antonio    

 

 

 

jane 

childof 

mary 

bornin 

john 

patt
i 

dot 

 

bornin 

mary 

     (translating embeddings) 

austin 

miami 

c
h

i
l

d
o

f
 

john 

jane 

patti 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

151 

using stored information improves precision even more 

surdeanu 

precision-recall curves on extracting from new york times articles to 
freebase [weston et al., 13] 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

152 

universal schemas [riedel et al., 13] 

    join in a single learning problem link prediction and id36 

 

    the same model can score triples 

made of entities linked with: 

    extracted surface forms from text 
    predicates from a knowledge base  

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

153 

universal schemas [riedel et al., 13] 

    combination of three scores: 

 

    embeddings for entities, relations and mentions. 
 
    training by ranking observed facts versus others and making updates 

using stochastic id119. 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

154 

using stored information (still) improves precision 

0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0

mintz

surdeanu

universal schemas
(only stext)
universal schemas

weighted  mean  averaged  precision  on  a  subset  of  relations  of 
freebase [riedel et al. 13] 

map

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

155 

extensions of embedding-based approaches 

    modeling relation paths [guu et al., 15; neelakantan et al., 15; lin et 

al., 15; garcia-duran et al. 15; toutanova et al., 16] 
    multi-hop id136s such as    where is the u.s. president born    
    path-based id173  
     e.g., for translations [lin et al., 15; garcia-duran et al. 15] 

hawai 

contains 

capital_of 

honolulu 

bornin 

 

 

president_of 

 

obama 

 

    jointly embedding entities and textual description [xie et al., 16] 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

 

156 

resources 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

157 

relevant datasets 

    wikipedia 

   

http://en.wikipedia.org/wiki/wikipedia:database_download 

    freebase 

   

https://developers.google.com/freebase/data 

    yago 

   

http://www.mpi-inf.mpg.de/departments/databases-and-information-
systems/research/yago-naga/yago/downloads/ 

    dbpedia 

   

http://wiki.dbpedia.org/datasets 

    openie/reverb 

   

http://reverb.cs.washington.edu/ 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

 

158 

relevant competitions, evaluations, and workshops 

    knowledge base population (kbp) @ tac 

  http://www.nist.gov/tac/2014/kbp/ 

    knowledge base acceleration (kba) @ trec 

  http://trec-kba.org/ 

    entity recognition and disambiguation (erd) challenge @ sigir 

2014 
  http://web-ngram.research.microsoft.com/erd2014/ 

   

inex link the wiki track 
  http://link.springer.com/chapter/10.1007/978-3-642-23577-1_22 

    clef ehealth evaluation lab 

  http://link.springer.com/chapter/10.1007/978-3-642-40802-1_24 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

159 

relevant competitions, evaluations, and workshops (cont   d) 

    named entity extraction & linking (neel) challenge 

(#microposts2014) 
  http://www.scc.lancs.ac.uk/microposts2014/challenge/ 

    ld4ie 2014 linked data for information extraction 
     http://trec-kba.org/ 

 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

160 

tutorials 

    entity linking and retrieval tutorial (meij, balog and odijk) 

   

http://ejmeij.github.io/entity-linking-and-retrieval-tutorial/ 

    entity resolution tutorials (getoor and machanavajjhala) 

    http://www.umiacs.umd.edu/~getoor/tutorials/er_vldb2012.pdf 
    http://linqs.cs.umd.edu/projects/tutorials/er-aaai12/home.html 

    big data integration (dong and srivastava) 

 

 

   

http://lunadong.com/talks/bdi_vldb.pptx 

    tensors and their applications in graphs (nickel and tresp) 

    http://www.cip.ifi.lmu.de/~nickel/iswc2012-learning-on-linked-data/ 

    probabilistic soft logic (bach et getoor) 

    http://psl.umiacs.umd.edu/ 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

 

161 

data releases from google 

1. automatic annotation of clueweb09 and clueweb12 with 

freebase entities (800m documents, 11b entity mentions) 

2. similar annotation of trec kba stream corpus 2014 (496m 

documents, 9.4b entity mentions) 

3. human judgments of relations extracted from wikipedia 
      (50k instances, 250k human judgments) 

4. triples deleted from freebase over time (63m triples) 

mailing list: 
goo.gl/mjb3a 

 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

162 

summary 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

163 

price/performance of knowledge acquisition 

noise 

automated 

non-
experts 

cf.  

[with ipeirotis et al., 
www 2014, 2015] 

experts 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

price 

164 

takeaways 

1. knowledge is crucial for many ai tasks 

2. knowledge brings more knowledge 
     (the more you know, the more you can learn) 

    fusion rules ! 

3. knowledge is hard to acquire 
    a lot can be found online, but a lot more cannot be found 
    a lot cannot be extracted using today   s methods 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

165 

next steps 

    we need new extraction methods, from 

new sources 
    modalities other than text ? 

cf. neil [chen et al.,  
cvpr    14, iccv    13] 

    going beyond the fixed schema 

    enforcing structure makes modeling easier 

yet imposes limitations 

cf. universal schema 
[riedel et al., hlt-
naacl    13, iclr    13] 

    the holy grail: reasoning with knowledge ! 

sigir  2016 tutorial on constructing and mining web-scale id13s, pisa, italy, july 17, 2016 

 

166 

